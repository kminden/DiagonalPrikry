\documentclass{amsart}
\usepackage{amssymb}
%\usepackage{geometry}
%\geometry{letterpaper}
\usepackage{amssymb,amsbsy}
\usepackage{epstopdf}
\usepackage{float}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amscd}
\usepackage{tikz-cd}
\usepackage{latexsym}
\usepackage{bbm}
\usepackage{verbatim}
\usepackage{paralist}
\usepackage[utf8]{inputenc}
\usepackage{etoolbox}
\usepackage{enumitem}
\usepackage{xspace}
\usetikzlibrary{patterns}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{observation}[theorem]{Observation}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{statement}[theorem]{Statement}
\newtheorem{fact}[theorem]{Fact}
%\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem*{theorem*}{Theorem} % unnumbered

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{question}[theorem]{Question}
\newtheorem{assumption}[theorem]{Assumption}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}
\newtheorem*{claim}{Main Claim}
\newtheorem{claimno}{Claim}


\renewcommand{\bar}{\overline}
%\renewcommand{\labelenumi}{\arabic{enumi}.}%\renewcommand{\labelenumi}{\textbf{\arabic{enumi}.}}
%\renewcommand{\baselinestretch}{1.2}

\setlist[description]{leftmargin=5.5em,labelindent=\parindent}

\renewcommand{\P}{\mathbb{P}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\M}{\mathbb{M}}
\newcommand{\Namba}{\mathbb{N}}
\newcommand{\D}{\mathbb{D}}
\newcommand{\N}{{\overline{N}}}
\renewcommand{\H}{\overline{H}}
\newcommand{\G}{\overline{G}}
\renewcommand{\S}{{\overline{S}}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\pmb{\mathcal C}}
%\newcommand{\C}{\leftexp{<\omega}{2}}
%\newcommand{\B}{\mathbb{B}_\mathcal{N}}
\newcommand{\B}{\mathbb{B}}
\newcommand{\U}{\mathcal{U}}
\renewcommand{\c}{\mathfrak{c}}

\newcommand{\PFA}{\textup{\ensuremath{\textsf{PFA}}}}
\newcommand{\MA}{\textup{\ensuremath{\textsf{MA}}}}
\newcommand{\MM}{\textup{\ensuremath{\textsf{MM}}}}
\newcommand{\SPFA}{\textup{\ensuremath{\textsf{SPFA}}}}
\newcommand{\ZFC}{\textup{\ensuremath{\textsf{ZFC}}}}
\newcommand{\SCFA}{\textup{\ensuremath{\textsf{SCFA}}}}
\newcommand{\BSCFA}{\textup{\ensuremath{\textsf{BSCFA}}}}
\newcommand{\CH}{\textup{\textsf{CH}}}
\newcommand{\GCH}{\textup{\ensuremath{\textsf{GCH}}}}
\newcommand{\Ord}{\textup{\ensuremath{\text{Ord}}}}
\newcommand{\id}{\textup{\ensuremath{\text{id}}}}
\newcommand{\MP}{\textup{\ensuremath{\textsf{MP}}}}
\newcommand{\RA}{\textup{\ensuremath{\textsf{RA}}}}
\newcommand{\BFA}{\textup{\ensuremath{\textsf{BFA}}}}

\DeclareMathOperator{\cof}{cof}
\DeclareMathOperator{\height}{height}
\DeclareMathOperator{\ran}{range}
\DeclareMathOperator{\otp}{otp}
\DeclareMathOperator{\cp}{cp}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\Succ}{succ}
\DeclareMathOperator{\wfc}{wfc}
\DeclareMathOperator{\BA}{BA}
\DeclareMathOperator{\Add}{\mathcal A\textit{dd}\,}
\DeclareMathOperator{\Coll}{\mathcal C\textit{oll}\,}
\DeclareMathOperator*{\bigdoublevee}{\bigvee\mkern-15mu\bigvee}

\newcommand{\To}{\longrightarrow}
\newcommand{\st}{\; | \;}
\newcommand{\set}[2]{\left\{#1\st #2 \right\}}
\newcommand{\seq}[2]{\langle #1 \st #2 \rangle}

\newcommand{\Ptail}{\P_{\mathrm{tail}}}
\newcommand{\Gtail}{G_{\mathrm{tail}}}

\newcommand{\leftexp}[2]{{\vphantom{#2}}^{#1}{#2}}
\newcommand{\funcs}[2]{\leftexp{#1}{#2}}

\newcommand{\forces}{\Vdash}
\newcommand{\proves}{\vdash}
\newcommand{\rest}{\mathbin{\upharpoonright}}
\newcommand{\meet}{\wedge}
\newcommand{\Meet}{\bigwedge}

\DeclareMathOperator{\MPsc}{\textup{\textsf{MP}}_{\textit{sc}}}
\DeclareMathOperator{\MPc}{\textup{\textsf{MP}}_{<\omega_1\textup{-closed}}}
\newcommand{\lMPsc}{ \textup{\textsf{MP}}^{H_{\omega_2}}_{\textit{sc}}(H_{\omega_2}) }
\newcommand{\lflMPsc}{ \textup{\textsf{MP}}^{H_{\omega_2}}_{\textit{sc}}(\emptyset) }
\newcommand{\lMPc}{ \textup{\textsf{MP}}^{H_{\omega_2}}_{<\omega_1\textup{-closed}}(\emptyset) }
\newcommand{\bflMPc}{ \textup{\textsf{MP}}^{H_{\omega_2}}_{<\omega_1\textup{-closed}}(H_{\omega_2}) }
\DeclareMathOperator{\RAsc}{\textup{\textsf{RA}}_{\textit{sc}}}
\DeclareMathOperator{\RAc}{\textup{\textsf{RA}}_{<\omega_1\textup{-closed}}}
\DeclareMathOperator{\bfRAsc}{\textup{\textsf{\textbf{RA}}}_{\textit{sc}}}

\newcommand{\SH}{\mathcal{H}\textit{ull} \,}
\newcommand{\sk}[3]{\SH^{#1}( {#2} \cup {\ran(#3)} ) }
\newcommand{\Sk}[3]{\SH^{#1}( {#2} \cup {#3} ) }

\newcommand{\TC}[1]{\mathrm{TC}(\{ #1 \})}


\hyphenation{ab-so-lute-ness}

\begin{document}

\title{The subcompleteness of diagonal Prikry forcing}

\author[Minden]{Kaethe Minden}
 \address[K.~Minden]{Mathematics, Marlboro College, 2582 South Road, Marlboro, VT 05344}
\email{kminden@marlboro.edu}
\urladdr{https://kaetheminden.wordpress.com/}
\date{}     					

\begin{abstract}
Let \(D\) be an infinite discrete set of measurable cardinals. It is shown that generalized Prikry forcing to add a countable sequence to each cardinal in \(D\) is subcomplete. To do this it is shown that a simplified version of generalized Prikry forcing which adds a point below each cardinal in \(D\), called generalized diagonal Prikry forcing, is subcomplete. It is also shown that the generalized diagonal Prikry forcing associated to \(D\) is subcomplete above $\mu$ where $\mu$ is any regular cardinal below the first limit point of \(D\).
\end{abstract}
\maketitle

\section{Introduction}
%Provide some motivation - advertisement for awesome techniques, and adding to the catalogue. Maybe refer to Gunter?
Subcomplete forcing is a class of forcing notions that do not add reals, but may potentially alter cofinalities to $\omega$. 
This separates subcomplete forcings from proper forcings, which satisfy a countable covering property and thus cannot change cofinalities to $\omega$. 
Examples of subcomplete forcing include Prikry forcing and Namba forcing (under $\CH$), as shown by Jensen~\cite[Section 3.3]{Jensen:2012fr}. 
In a similar vein, Fuchs~\cite{Fuchs:2017Magidor} has shown that Magidor forcing is subcomplete. Here an adaptation of Jensen's proof showing that Prikry forcing is subcomplete is employed to see that many Prikry-like forcings, in particular those which will be referred to here as generalized diagonal Prikry forcing, following Fuchs~\cite{Fuchs:2005kx}, are subcomplete.

In section~\ref{sec:preliminaries}, some preliminary topics are introduced that may be found in Jensen's lecture notes from the 2012 AII Summer School in Singapore (for the published version refer to \cite{Jensen:2012fr}). The notion of the weight of a forcing and fullness of a structure are then introduced, which lead to the definition of subcompleteness given in section~\ref{subsec:subcomplete} and subcompleteness above $\mu$ in section~\ref{subsec:subcompleteabovemu}. Important techniques of Barwise theory are introduced in section~\ref{subsec:BarwiseTheory}, and the ultrapower-like notion of a liftup, to obtain full structures, is introduced in section~\ref{subsec:Liftups}. In section~\ref{sec:GenDiagonalPrikryForcing} the definition of generalized diagonal Prikry foring is given, and it is shown that such forcing notions are subcomplete. Moreover, it is shown that diagonal Prikry forcing is subcomplete above $\mu$ where $\mu$ is a regular cardinal below the first limit point of the infinite discrete set of measurable cardinals used in the forcing.

\section{Preliminaries} \label{sec:preliminaries}
Before defining subcomplete forcing and generalized diagonal Prikry forcing, some preliminary information is necessary.

First, below is a brief outline of some of the notation used in what follows.
Forcing notions $\P = \langle \P, \leq \rangle$ are taken to be partial orders that are separative and contain a ``top" element weaker than all elements of $\P$, denoted $\mathbbm 1$.
Write $N$, $M$, or $\N$ to denote models of $\ZFC^-$, the axioms of Zermelo-Fraenkel Set Theory without the axiom of \textsf{Powerset}, and with the axiom of \textsf{Collection} instead of \textsf{Replacement}. For $\sigma$ an elementary embedding from $N$ to $M$, write $\sigma: N \prec M$ and in case $N \subseteq M$ as well write $N \preccurlyeq M$ to denote and emphasize that $N$ is an elementary substructure of $M$. If a map $\sigma$ satisfies $\sigma(\overline a)=a$ and $\sigma(\overline b)=b$, this will be abbreviated as $\sigma(\overline a,\overline b)=a,b$.
For $N$ transitive, write $\height(N)$ to mean $\Ord \cap N$ and $\alpha^N$ for $\alpha \cap N$ for ordinal $\alpha$.
Let $A$ be a set of ordinals. Then $\lim(A)$ is the set of limit points in $A$.  
For $\theta$ a cardinal, the collection of sets hereditarily of size less than $\theta$ will be referred to as $H_\theta$. Relativizing the concept to a particular model of set theory, $M$, write $H_\theta^M$ to mean the collection of sets in $M$ that are hereditarily of size less than $\theta$ in $M$. In this case, if $\theta$ is determined by some computation, the computation is meant to take place in $M$.
For a cardinal $\tau$, with abuse of notation, write $L_\tau[A]$ to refer to the structure $\langle L_\tau[A]; \in, A \cap L_\tau[A] \rangle$. 


\subsection{The Weight of a Forcing Notion}
\label{subsec:delta}

\begin{definition} For a forcing notion $\P$, we write $\delta(\P)$ to denote the least cardinality of a dense subset in $\P$. This is sometimes referred to as the \emph{weight} of a poset. \end{definition}

Although Jensen defines $\delta(\P)$ for Boolean algebras, it's also relevant for posets. As Jensen states, for forcing notions $\P$, the weight can be replaced with the cardinality of $\P$, or even $\P$, for the purpose of defining subcompleteness. However, $\delta(\P)$ and $|\P|$ are not necessarily the same, since there could be a large set of points in the poset that all have a common strengthening. 

%More can be said about the weight of forcing notions, and I give some basic results below.
%
%\begin{lemma} Let $\P$ be a poset. Then maximal antichains in $\P$ have size at most $\delta(\P)$. \end{lemma}
%\begin{proof}
%Supposing $\P$ has a maximal antichain $A$ of size $\kappa$, any dense set $D$ (including one of smallest size) in $\P$ needs to have the property that for each element $a \in A$, there is an element $d \in D$ below $a$, satisfying $d \leq a$. Let's assume that $D$ has size $\delta(\P)$; then $D$ must have size at least $\kappa$ since $A$ is a maximal antichain; indeed we have a function $f:A \to D$, where $f(a)$ is an element of $D$ below $a$. It must be that $f$ is an injection, since otherwise there would be an element $d \in D$ below two distinct elements of $A$, contradicting the fact that $A$ is an antichain. Thus $\kappa =|A| \leq |D| = \delta(\P)$ as desired.
%\end{proof}
%
%Below we define a homomorphism between partial orders, following Schindler \cite[Definition 6.47]{schindler2014set}.
%
%\begin{definition}  Let $\langle \P, \leq_\P \rangle$ and $\langle \Q, \leq_\Q \rangle$ be posets. A map $\pi: \P \to \Q$ is a \textbf{\emph{homomorphism}} so long as it preserves order and incompatibility: \begin{enumerate}
%	\item For all $p,q \in \P$ we have that $p \leq_\P q \implies \pi(p) \leq_\Q \pi(q)$.
%	\item For all $p,q \in \P$ we have that $p \perp q \implies \pi(p) \perp \pi(q)$.
%\end{enumerate}
%
%A homomorphism $\pi:\P \to \Q$ is said to be \textbf{\emph{dense}} so long as for every $q \in \Q$ there is some $p \in \P$ such that $\pi(p) \leq q$, i.e., $\ran(\pi)$ is dense in $\Q$. \end{definition}
%
%We give some immediate remarks on our above definition. First of all, we claim property \textbf{1} automatically entails that for all $p,q \in \P$, if $\pi(p) \perp \pi(q)$ then $p \perp q$, since clearly if $p$ is compatible with $q$ we have that $\pi(p)$ is compatible with $\pi(q)$, which is the contrapositive of the claim. Furthermore, if $\P$ is separative (which indeed we assume of all of our forcing notions) then homomorphisms are automatically \textit{strong}, in that the implications of items \textbf{1} and \textbf{2} may both be reversed and we have the following:
%\begin{enumerate}
%	\item For all $p,q \in \P$ we have that $p \leq_\P q \iff \pi(p) \leq_\Q \pi(q)$.
%	\item For all $p,q \in \P$ we have that $p \perp q \iff \pi(p) \perp \pi(q)$.
%\end{enumerate}
%Item \textbf{1} holds since if otherwise, meaning if $\pi(p) \leq \pi(q)$ for $p,q \in \P$ and $p$ is not stronger than $q$, then there is a $p^*\leq p$ that is incompatible with $q$ by separativity, which means $\pi(p^*) \leq p$ and $\pi(p^*) \perp \pi(q)$, a contradiction. Thus, if $\P$ is a forcing notion, by property \textbf{1}, homomorphisms from $\P$ to $\Q$ are automatically embeddings.
%
%\begin{lemma} \label{lemma:deltasize} Let $\P$ and $\Q$ be forcing notions. If $\pi: \P \to \Q$ is a dense homomorphism (which means $\pi$ is a dense embedding, as explained above) then $\delta(\P)=\delta(\Q)$. \end{lemma} 
%\begin{proof}
%Suppose that $D \subseteq \P$ is dense and $|D|=\delta(\P)$. Then $\pi ``\P$ is dense in $\Q$ and $\pi``D$ is dense in $\pi``\P$, since $\pi$ is a homomorphism and preserves the partial order. This means that $\pi``D$ is dense in $\Q$. Any other dense set in $\Q$ has to have size at least $\delta(\Q)$, and thus $\delta(\Q) \leq |\pi``D| \leq |D| = \delta(\P)$ as desired. 
%
%We now use the remarks showing that our homomorphisms are strong to find a dense subset of $\P$ that has size at most $\delta(\Q)$. Let $\Delta \subseteq \Q$ be dense satisfying $|\Delta|=\delta(\Q)$. Since $\pi `` \P$ is dense in $\Q$, for each $q \in \Delta$ there is a $p_q \in \P$ such that $\pi(p_q) \leq q$. Let $D^*$ be the set of such $p_q$'s, where there is only one $p_q$ chosen for each $q \in \Delta$. To show that $D^*$ is dense, let $p \in \P$. Then as $\Delta$ is dense, there is $q \in \Delta$ satisfying $q \leq \pi(p)$. Thus there is $\pi(p_q) \leq q \leq \pi(p)$ where $p_q \in D^*$, so we have $p_q \leq p$ showing that $D^*$ is dense. This means that $\delta(\P) \leq \delta(\Q)$ as desired.
%\end{proof} 
%
If $\P$ is a dense subset of $\Q$, then, of course, $\delta(\P) = \delta(\Q)$.

%\begin{lemma} If $\pi: \P \to \Q$ is a dense homomorphism between trees, then $\delta(\Q) = \delta(\P)$. \end{lemma}
%\begin{proof}[Proof sketch.] %Actually this probably needs that their heights are regular?
%We need to show that $\delta(\P) \leq \delta(\Q)$, in light of the previous lemma. To do this we fix $D \subseteq \P$ dense in $\P$ and $\Delta \subseteq \Q$ dense in $\Q$, with $|D|=\delta(\P)$ and $|\Delta| = \delta(\Q)$. %We also fix some well-ordering of $\Delta$. %If $\Delta \subseteq \pi``D$ then we are done, so assume that this is not the case.%Actually the point here seems to be that if you can find a well ordering of your poset that preserves its partial order to some extent, then this will work.
%
%	$$ \text{ $f(p)=$ the least $q \in \Delta$ such that $q \leq \pi(p)$. } $$
%	$$ \text{ $g(q) = $ the least $p \in D$ such that $\pi(p) \leq q$. } $$
%
%%Define a dense set $D^* \subseteq D$ and an injection $f$ from from $D^*$ into $\Delta$ in order (of the well-ordering), by induction on the size of $\Delta$. Initially set $D_0 = D$. Then let $p_0 \in D_0$ be sent to the least unused element of $\Delta$, say $q_0 \in \Delta$, such that $q_0 \leq \pi(p_0)$. Since $\Delta$ is dense in $\P$, this must always be defined.
%%
%%If, going along this construction you reach an obstacle, ie. there is some $p \in D^*$ such that every $q \in \Delta$ with $q \leq \pi(p)$ was already assigned to an element of $D^*$ previously, then these conditions of $D^*$ would all have to be in a chain below $p$ in the tree. So remove all of these elements from $D^*$, since $p$ is stronger than all of them, $D^*$ will stay dense.
%%
%% Now we have a new set $D^*$ with all of these points removed. At the end of the construction $D^*$ remains size $\delta(\P)$ as needed, and an injection has been defined.
%\end{proof}

%\begin{lemma} If $\mathbb P \subseteq \mathbb Q$ are forcing notions and $\mathbb P$ is dense in $\mathbb Q$, it is possible for $\delta(\mathbb P) > \delta(\mathbb Q)$. \end{lemma} \begin{proof} Like if you have some huge set of conditions that are weaker than something but stronger than things too.


\subsection{Fullness}
\label{subsec:fullness}
In the definition of subcompleteness, in lieu of working directly with $H_\theta$ and its well-order for ``large enough" cardinals $\theta$ (as is often done for proper forcing, for example), models $N$ look as follows: 
	$$H_\theta \subseteq N = L_\tau[A] \models \ZFC^-,$$
where $\tau>\theta$ is a cardinal that is not necessarily regular. Such $H_\theta$ will need to be large enough so that $N$ has the correct $\omega_1$ and $H_{\omega_1}$. One justification for working with these models is that such $N$ will naturally contain a well order of $H_\theta$, along with its Skolem functions and other useful bits of useful information. Additionally a benefit of working with such models is that $L_\tau[A]$ is easily definable in $L_\tau[A][G]$, if $G$ is generic, using $A$.
In the standard fashion, take countable elementary substructures $X$, where $X \preccurlyeq N$. Then take the countable transitive collapse of such an $X$, and write $\N \cong X$. Such embeddings will be referred to as $$\sigma: \N \cong X \preccurlyeq N.$$
Often, to suppress the mention of range of $\sigma$, or $X$ in the above, all that will be written is $\sigma: \N \prec N$.
	
In fact, it will not be quite enough for such an $\N$ to be transitive, what is needed is exactly granted by the property of \textit{fullness}. Fullness of a model ensures that the model is not pointwise definable. Thus in the standard setup, there can be many elementary maps between the smaller structure and the larger structure $N$. Before defining fullness, there are more preliminary points to clarify.

It is not hard to see what the critical point of these embeddings is. Given $\sigma: \N \prec N$ where $\N$ is countable and transitive, $\cp(\sigma)$ is exactly $\omega_1^{\N} = \sigma^{-1}(\omega_1^N)$, since $\N$ is countable.

\begin{remark} \label{remark:CPofourEmbeddings} Let $\N$, $N$ be transitive $\ZFC^-$ models, where $\N$ is countable and $H_{\omega_1} \subseteq N$, with $\sigma: \N \prec N$. Then $\cp(\sigma)=\omega_1^{\N}$ and $\sigma \rest (H_{\omega_1})^{\N} = \id$. \end{remark}
%\begin{proof}
%Let $\alpha = \cp(\sigma)$. Then $\alpha$ is a cardinal in $\N$, and $\alpha > \omega$ as both $\N$ and $N$ are models of $\ZFC^-$. 
%
%It must be that $\alpha = \omega_1^\N$, since $\omega_1^\N$ is a countable ordinal in $V$ and thus in $N$, but 
%	$\sigma(\omega_1^\N)=\omega_1^N>\omega_1^{\N}.$
%%Moreover, this does not happen to any $\beta < \alpha$ in $\N$, and $\sigma \rest \alpha = \id$. 
%Every $x \in H_\alpha^\N=(H_{\omega_1})^\N$ may be coded as a subset of $\omega$ and thus as an ordinal less than $\omega_1$ by $\gamma=\TC{x}$, and $\sigma(\gamma)=\gamma$, and the desired result follows. 
%\end{proof}

Let $N = L_\tau[A]$ for some cardinal $\tau$ and set $A$, be a transitive $\ZFC^-$ model, let $X$ be a set, and let $\delta$ be a cardinal. Our notation for the \emph{Skolem hull}, in $N$, closing under $\delta \cup X$, is $\Sk{N}{\delta}{X}$. It is defined to be the smallest $Y \preccurlyeq N$ satisfying $X \cup \delta \subseteq Y$.
	
The two basic results below follow immediately.

\begin{remark} \label{remark:subsethull}
Let $N=L_\tau[A]$ be a transitive $\ZFC^-$ model, $\delta$ and $\gamma$ be cardinals, and $X$ a set. If $\delta \leq \gamma$ then $\Sk{N}{\delta}{X} \subseteq \Sk{N}{\gamma}{X}$. 
\end{remark}
%\begin{proof}
%This is trivial; if $t \in \Sk{N}{\delta}{X}$ then $t$ is $N$-definable from some $\xi < \delta \leq \gamma$ and $\vec x \in X$ so $t \in \Sk{N}{\gamma}{X}$ as well.
%\end{proof}

\begin{remark} \label{remark:hullequality} Let $N$ be a transitive $\ZFC^-$ model, $\delta$ a cardinal, and $X$, $Y$ sets. If $\Sk{N}{\delta}{X} = \Sk{N}{\delta}{Y}$ then $\Sk{N}{\gamma}{X} = \Sk{N}{\gamma}{Y}$ for all $\gamma \geq \delta$. \end{remark}
%\begin{proof}
%	Let $t \in \Sk{N}{\gamma}{X}$. Then there is some formula $\varphi$ where $t$ unique such that $N \models \varphi(t, \xi, x)$ for $\xi < \gamma$, $x \in X$. But since then $x \in X \subseteq \Sk{N}{\delta}{X}= \Sk{N}{\delta}{Y} \subseteq \Sk{N}{\gamma}{Y}$, it must be the case that $t \in \Sk{N}{\gamma}{Y}$ as well. Likewise for the reverse inclusion.
%\end{proof}

Toward defining fullness, the notion of regularity of transitive models needs to be defined.

\begin{definition} We say that a transitive model $N$ is \emph{regular} in a transitive model $M$ so long as for all functions $f: x \To N$, where $x$ is an element of $N$ and $f \in M$, we have that $f``x \in N$. \end{definition}
The following lemma is meant to elucidate the significance of regularity.

\begin{lemma} \label{lemma:regularityequiv}
Let $N, M \models \ZFC^-$ be transitive. $N$ is regular in $M$ iff $N = H_\gamma^M$, where $\gamma = \height(N)$ is a regular cardinal in $M$. %tweak hypotheses? Like what is $M$ exactly? Solid?
\end{lemma}
\begin{proof}
For the backward direction, suppose that $N=H_\gamma^M$ where $\gamma = \height(N)$ is a regular cardinal in $M$. Then for all $f: x \longrightarrow N$, with $x \in N$ and $f \in M$, certainly $f``x \in N$ as well.

For the forward direction, indeed $\gamma$ has to be regular in $M$ since otherwise $M$ would contain a cofinal function $f: \alpha \longrightarrow \gamma$ where $\alpha < \gamma$. By the transitivity of $N$, this implies that $\alpha \in N$. Thus $\cup f``\alpha$ is in $N \models \ZFC^-$ by regularity, so $\gamma \in N$, a contradiction.
We have that $N \subseteq H_{\gamma}^M$ since $N$ is a transitive $\ZFC^-$ model, so the transitive closure of elements of $N$ may be computed in $N$ and thus have size less than $\gamma$, so they are in $H_\gamma^M$ as $\gamma \in M$. To show that $H_{\gamma}^M \subseteq N$, let $x \in H_{\gamma}^M$. We assume by $\in$-induction that $x \subseteq N$. Then there is a surjection $f: \alpha \twoheadrightarrow x$ where $\alpha < \gamma$, in $M$. Hence by regularity, $x = f``\alpha \in N$ as desired.
\end{proof}

\begin{definition} A structure $M$ is \emph{full} so long as $M$ is transitive, $\omega \in M$, and there is a $\gamma$ such that $M$ is regular in $L_\gamma(M)$ where $L_\gamma(M) \models \ZFC^-$.
\end{definition}

Perhaps the property of fullness seems rather mysterious at first, but the fullness of a countable structure guarantees that it is not pointwise definable, a necessary property of some of the models that come up in the definition subcomplete forcing.

\begin{lemma} If $M$ is countable and full, then $M$ is not pointwise definable. \end{lemma}
\begin{proof} Suppose toward a contradiction that $M$ is countable, full, and pointwise definable. By fullness there is some $L_\gamma(M) \models \ZFC^-$ such that $M$ is regular in $L_\gamma(M)$. By pointwise definability, for each element $x \in M$, we have attached to it some formula $\varphi(x)$ such that $M \models \varphi(x)$ uniquely, meaning that $\varphi(y)$ fails for every other element $y \in M$. Thus in $L_\gamma(M)$ we may define a function $f: \omega \cong M$, that takes the $n$th formula in the language of set theory to its unique witness in $M$. In particular we have that $L_\gamma(M)$ witnesses that $M$ is countable. However, this would allow $M$ to witness its own countability, since $M$ must contain $f$ as well by regularity. \end{proof} 

Let $N$ be a transitive $\ZFC^-$ model. Suppose $\N \cong X \preccurlyeq N$ where $X$ is countable and $\N$ is full. Then there may possibly be more than one elementary embedding $\sigma: \N \prec N$. 
Indeed: if there was only one unique embedding, then $\N$ may be defined pointwise, by elementarity of the unique map, and since $\N$ is countable.

%The following lemma shows that fullness is in some sense not much harder than transitivity to satisfy.
%
%\begin{lemma} \label{lemma:fullclubs}
%Let $\theta>\omega_1$ satisfy $H_\theta \subseteq N = L_\tau[A] \models \ZFC^-$ with $\tau>\theta$ regular and $A \subseteq \tau$, and let $s \in N$. Then 
%$$ \set{ \omega_1^\N }{ \text{there is $\sigma$ such that $\sigma: \N \prec N$ where $\N$ is countable and full, and $s \in \ran(\sigma)$} } \subseteq \omega_1$$ contains a club.
%\end{lemma} 
%
%\begin{proof}
%Let $\tau'=(\tau^+)^{L[A]}$. Let $\sigma' : \overline{L_{\tau'}[A]} \cong X \preccurlyeq L_{\tau'}[A]$ where $X$ is countable and $L_{\overline{\tau'}}[\overline A]$ is the Mostowski collapse of $X$. Let $\overline \tau$ be the largest cardinal of $L_{\overline{\tau'}}[\overline A]$. We would like to show that $\N = L_{\overline{\tau}}[\overline A]$ is full, by showing it is regular in $L_{\overline{\tau'}}[\overline A] = L_{\overline{\tau'}}(\N)$.
%%We first claim that $N=L_\tau[A]$ is regular in $L_{\tau'}[A]$, and then shift the property down to the countable transitive collapse of these structures to show that they are full.
%\begin{claim} $\N$ is regular in $L_{\overline{\tau'}}[\overline A]$. \end{claim}
%\begin{proof}[Pf.] 
%Let $f:x \longrightarrow \overline N$, where $x \in \N$ and $f \in L_{\overline{\tau'}}[\overline A]$, and indeed $\ran(f)= f``x \in L_{\overline{\tau'}}[\overline A]$. Firstly, $f`` x \subseteq L_\gamma[\overline A]$, for some $\gamma < \overline \tau$, because $\overline \tau$ is a regular cardinal in $L_{\overline{\tau'}}[A]$. We inductively define a sequence of Skolem hulls in order to see that ultimately $f``x$ must be an element of $\N$.
%Let 
%	$$X_0 = \Sk{L_{\overline{\tau'}}[\overline A]}{\gamma}{\{f``x\}}.$$
%In $L_{\overline{\tau'}}[\overline A]$, $X_0$ has size $\gamma$, so in particular it has size less than $\overline \tau$. Also we have that $L_\gamma[\overline A] \subseteq X_0$. As an aside, we point out that one  might already want to take the transitive collapse of this structure to obtain something that looks like $L_{\overline{\overline{\tau'}}}[\overline{\overline A}]$. The $\overline{\overline A}$ arising from this is not very easy to work with; it is not necessarily true that in this case, $\overline{\overline A} = \overline A \cap {\overline{\overline{\tau'}}}$ as one would hope. To remedy this we will go on to define a hull whose transitive collapsed version of $\overline A$ is an initial segment of $\overline A$, ultimately making the collapsed structure definable in $L_{\overline \tau}[\overline A]$. To do this, inductively assume $X_n$ is defined with size less than $\overline \tau$, and set $\gamma_n = \sup(X_n) \cap \overline \tau$. We have that $|\gamma_n|<\overline \tau$, as $\overline \tau$ is regular in $L_{\overline{\tau'}}[\overline A]$. We let 
%	$$X_{n+1} = \Sk{L_{\overline{\tau'}}[\overline A]}{\gamma_n}{X_n}.$$
%This defines an elementary chain $\seq{X_n}{n<\omega}$ in $L_{\overline{\tau'}}[\overline A]$. So $X_\omega = \bigcup_{n<\omega}X_n$ is an elementary substructure of $L_{\overline{\tau'}}[\overline A]$. Additionally, let $\gamma_\omega:=X_\omega \cap \overline \tau = \sup_{n<\omega}{\gamma_n}$. 
%
%Let $k:\overline{L_{\overline{\tau'}}[\overline{A}]} \cong X_\omega \preccurlyeq L_{\overline{\tau'}}[\overline A]$. Then $\overline{L_{\overline{\tau'}}[\overline A]}=L_{\overline{\overline{\tau'}}}[\overline{\overline{A}}]$ and by construction, $k \rest \gamma_\omega = \id$.
%%and $k(\gamma_\omega)=\tau$. 
%Additionally we now have $$\overline{\overline{A}} = k^{-1}``\overline A = k^{-1}``(\overline A \cap \gamma_\omega)=\overline A \cap \gamma_\omega.$$ Since $L_\gamma[\overline A] \subseteq X_0$, we have that $k^{-1}(f``x)=f``x$. Thus $f``x \in L_{\overline{\overline{\tau'}}}[\overline A \cap \gamma_\omega] \in L_{\overline{\tau}}[\overline A] = \N$, since $\overline{\overline{\tau'}} <\tau$ and $\overline A \cap \gamma_\omega < \overline \tau$.
%%Take the transitive collapse $k:L_{\gamma}[A] \cong X$, where $\overline{\gamma} < \tau$. We have that $k^{-1}(f``x) = f``x$, since $f``x \subseteq L_\gamma[A]$ and $f``x \in X$. Thus $f``x \in L_{\overline{\gamma}}[A] \subseteq L_{\tau}[A]$ as desired, proving the \textit{Claim}. 
%Thus $\N$ is regular in $L_{\overline{\tau'}}[\overline A]$, proving the \textit{Claim}.
%\end{proof}
%Thus $\N$ is full. To show the claim, we need to show that there are club-many such $\N$s. But this is true because there are club-many relevant Skolem hulls from which the $\N$ arise.
%
%In particular, let
%\begin{align*} \Gamma = \Big\{ \N = L_{\overline \tau}[\overline A] \st & \text{ for some $\gamma<\omega_1$, } L_{\overline{\tau}'}[\overline A] \cong \Sk{L_{\tau'}[A]}{\gamma}{\{s\}} \preccurlyeq L_{\tau'}[A] \\
%	&\text{ where } \overline \tau \text{ is the largest cardinal in } L_{\overline{\tau'}}[\overline A]\Big\}.
%	\end{align*}
%
%Then $C = \set{ \omega_1^\N }{ \N \in \Gamma } \subseteq \omega_1$ is club. 
%
%Clearly $C$ is unbounded, since for any $\gamma < \omega_1$, there is $\sigma' : L_{\overline{\tau}'}[\overline A] \cong \Sk{L_{\tau'}[A]}{\gamma}{\{s\}} \preccurlyeq L_{\tau'}[A]$. Let $\sigma'(\overline s)=s$. Since $\overline \tau > \omega_1^\N$ by elementarity, we have that $\sigma=\sigma' \rest L_{\overline \tau}[\overline A]$ is an elementary embedding as well; $\sigma: \N \prec N$, and $\sigma(\overline s)=s$. Then the critical point of $\sigma$, namely $\omega_1^\N$, is above $\gamma$.
%
%To see that $C$ is closed, suppose we have an unbounded set of of ${\N} \in \Gamma$ and an associated sequence of $\alpha=\omega_1^{{\N}}$. As we saw above, each of these ${\N}$ can be thought of as the domain of some elementary $\sigma: \N \cong X \preccurlyeq N$, where $X$ is countable. Then we can take the union of these $X$ to obtain $X \preccurlyeq N$. To form $\sigma: \N \prec N$ take the Mostowski collapse. The critical point of $\sigma$ will be the supremum of all of the $\alpha$'s.
%\end{proof}

The following lemma will prove useful when showing that various forcing notions are subcomplete, since subcompleteness requires certain ground-model Skolem hulls to match those in forcing extensions.

\begin{lemma}[Jensen] \label{lemma:Ctrick} Let $\P$ be a forcing notion, and let $\delta=\delta(\P)$ be the smallest size of a dense subset in $\P$. Suppose that $\P \in H_\theta \subseteq N$ where $N=L_\tau[A] \models \ZFC^-$. Let $\sigma : \N \prec N$ where $\N$ is countable and full, and let $\sigma(\overline \P)=\P$.

Suppose $G \subseteq \P$ is $N$-generic and $\G \subseteq \overline \P$ is $\N$-generic, and that $\sigma``\G \subseteq G$, so $\sigma$ lifts (or extends) in $V[G]$ to an embedding $\sigma^*:\N[\G] \prec N[G]$. 

Then 
	$$N \cap \sk{N[G]}{\delta}{\sigma^*} = \sk{N}{\delta}{\sigma}.$$
\end{lemma}
\begin{proof}
First, we establish that $\sk{N}{\delta}{\sigma} \subseteq \sk{N[G]}{\delta}{\sigma^*} \cap N$. To see this, let $x \in \sk{N}{\delta}{\sigma}$. Then $x$ is $N$-definable from $\xi<\delta$ and $\sigma(\overline z)$ where $\overline z \in \N$. Since $\sigma^*$ extends $\sigma$, this means that $x \in N$ and that $x$ is $N[G]$-definable from $\xi$ and $\sigma^*(\overline z)$. This is because $N=L_\tau[A]$ is definable in $N[G]$ using $A$.

For the other direction, let $x \in \sk{N[G]}{\delta}{\sigma^*} \cap N$. Then $x$ is $N[G]$-definable from $\xi < \delta$ and $\sigma^*(\overline z)$ where $\overline z \in \N[\G]$; and also $x \in N$. Letting $\dot{\overline z} \in \N^{\overline{\P}}$ such that $\overline z = \dot{\overline z}^{\G}$ we have $$\sigma^*(\overline{z}) = \sigma^*({\dot{\overline z}}^{\G})=\sigma(\dot{\overline{z}})^{G}$$ so we have that there is some formula $\varphi$ such that $x$ is the unique witness:
	$x$ is the unique $y$ satisfying $N[G] \models \varphi(y, \xi, \sigma(\dot{\overline z})^{G}).$ 
Take $f \in \N$ mapping $\overline \delta$ onto a dense subset of $\overline{\P}$. Then $\sigma(f)$ maps $\delta$ onto a dense subset of $\P$. Thus there is $\nu < \delta$ such that $\sigma(f)(\nu) \in G$ and $\sigma(f)(\nu) \forces \varphi(\check x, \check \xi, \sigma(\dot{\overline{z}})).$ 
Thus $x$ is the unique $y$ satisfying $\sigma(f)(\nu) \forces^N_{\P} \varphi(\check y, \check \xi, \sigma(\dot{\overline{z}}))$.
so $x \in \sk{N}{\delta}{\sigma}$.
\end{proof}

\subsection{Subcomplete Forcing} \label{subsec:subcomplete}
Subcompleteness should be seen as a weakening of the class of complete (a.k.a. countably closed) forcing notions. The following definitions and proofs are due to Jensen \cite[Chapter 3]{Jensen:2012fr}.
 
\begin{definition} A forcing notion $\P$ is \emph{complete} so long as
for sufficiently large $\theta$ we have that once we are in the following situation: \begin{itemize}
	\item $\P \in H_\theta \subseteq N = L_\tau[A] \models \ZFC^-$ where $\tau>\theta$ and $A \subseteq \tau$
	\item $\sigma: \N \cong X \preccurlyeq N$ where $X$ is countable and $\N$ is transitive
	\item $\sigma(\overline \theta, \overline{\P}, \overline s)=\theta, \P, s$ for some $s \in N$;
\end{itemize}
then we have that if $\G$ is $\overline{\P}$-generic over $\N$ then there is a \emph{completeness condition} $p \in \P$ forcing that whenever $G \ni p$ is $\P$-generic, $\sigma ``\, \G \subseteq G$. 

In particular, below the condition $p$ we have that $\sigma$ lifts to an embedding $\sigma^*:\N[\G] \prec N[G]$.
We say that such a $\theta$ as above \emph{verifies} the completeness of $\P$.
\end{definition}
The adjustment made to get subcomplete forcings is to not necessarily insist the the original embedding lifts in the forcing extension. Instead subcompleteness asks for there to be an embedding that lifts in the extension, and potentially only exists there, an embedding that is sufficiently similar to the original embedding. However, as discussed in Section \ref{subsec:fullness}, the domain of the embedding must be \emph{full} to ensure that there can even consistently be more than one embedding. The definition is given below.

\begin{definition} \label{definition:SC}
A forcing notion $\P$ is \emph{subcomplete} so long as,
for sufficiently large $\theta$ we have that whenever we are in the \emph{standard setup}, i.e., \begin{itemize}
	\item $\P \in H_\theta \subseteq N = L_\tau[A] \models \ZFC^-$ where $\tau>\theta$ and $A \subseteq \tau$
	\item $\sigma: \N \cong X \preccurlyeq N$ where $X$ is countable and $\N$ is full
	\item $\sigma(\overline \theta, \overline{\P}, \overline s)=\theta, \P, s$ for some $s \in N$;
\end{itemize}
then we have that if $\G$ is  $\overline{\P}$-generic over $\N$ then there is a \emph{subcompleteness condition} $p \in \P$ such that whenever $G \ni p$ is $\P$-generic, there is $\sigma' \in V[G]$ satisfying: \begin{enumerate}
	\item $\sigma': \N \prec N$
	\item $\sigma'(\overline \theta, \overline{\P}, \overline s)=\theta, \P, s$
	\item \label{item:skolemcompatibility} $\sk{N}{\delta(\P)}{\sigma'} = \Sk{N}{\delta(\P)}{X}$
	\item \label{item:sigmaprimelifts} $\sigma'``\, \G \subseteq G$.
\end{enumerate}
In other words and in particular, the subcompleteness condition $p$ forces that there is an embedding $\sigma'$ in the extension $V[G]$ that lifts, by (\ref{item:sigmaprimelifts}), to an embedding $\sigma'^*:\N[\G] \prec N[G]$ in $V[G]$.

We say that such a $\theta$ as above \emph{verifies} the subcompleteness of $\P$.

Often we write $\delta$ instead of $\delta(\P)$ for the weight of $\P$ when there should be no confusion as to which poset $\P$ we are working with.\footnote{See Section \ref{subsec:delta} for more on $\delta(\P)$.}
\end{definition}
%Condition \ref{item:skolemcompatibility}.~ in the definition above ensures that subcomplete forcing notions may be iterated, and is rarely used in the following proofs. Thus the condition will tend to be left out of the discussion when properties of subcomplete posets are shown.
%
%Immediately we obtain the following.
%\begin{proposition}[Jensen]\label{proposition:noreals}
%Subcomplete forcing does not add countable subsets of countable sets. In particular, subcomplete forcing does not add reals.
%\end{proposition}
%\begin{proof}
%Let $\P$ be subcomplete. Suppose toward a contradiction that $\P$ adds a new real, let $p \in \P$ force that $\dot r: \check \omega \rightarrow \omega$ is new. Let $\theta$ be large enough and let $\sigma$, $\N$, and $N$ satisfy: \begin{itemize} 
%	\item $\P \in H_\theta \subseteq N = L_\tau[A] \models \ZFC^-$ where $\tau>\theta$ and $A \subseteq \tau$
%	\item $\sigma: \N \cong X \preccurlyeq N$ where $X$ is countable and $\overline N$ is full
%	\item $\sigma(\overline \theta, \overline{\P}, \overline p, \overline{\dot r})=\theta, \P, p, \dot r.$
%\end{itemize}
%Let $\G \subseteq \overline{\P}$ be an $\N$-generic filter with $\overline p \in \G$. By the subcompleteness of $\P$, there is $q \in \P$ forcing that whenever $G \ni q$ is $\P$-generic, there is $\sigma' \in V[G]$ such that \begin{itemize}
%	\item $\sigma': \N \prec N$
%	\item $\sigma'(\overline \theta, \overline{\P}, \overline p, \overline{\dot r})=\theta, \P, p, \dot r$
%	\item $\sigma'``\, \G \subseteq G$.
%\end{itemize} 
%Thus $\sigma'$ lifts to $\sigma':\N[\G] \prec N[G]$ in $V[G]$. Let $r = \dot r^G$, $\overline r = \overline{\dot r}^{\G}$. Then for each $n < \omega$ we have that 
%	$$r(n) = \sigma'(\overline r(n)) = \overline r(n).$$ 
%So $r=\overline r \in V$, contradicting our original assumption that $p \in G$ forces $\dot r$ to be new. %The point here is that $\sigma_0$ has to preserve natural numbers. If we had any other values being computed, this would simply not work.
%%The point is that the critical point of all of these embeddings is $\omega_1^{\overline N}$.
%\end{proof}
%
%\begin{proposition}
%Subcomplete forcings are subproper.
%\end{proposition}
%\begin{proof}
%Let $\delta(\P)=\delta$. If $\P$ is subcomplete, then to see that $\P$ is also subproper assume we are in the standard setup from the definition of subproperness: \begin{itemize}
%	\item $\P \in H_\theta \subseteq N = L_\tau[A] \models \ZFC^-$ where $\tau>\theta$ and $A \subseteq \tau$
%	\item $\sigma: \N \cong X \preccurlyeq N$ where $X$ is countable and $\overline N$ is full
%	\item $\sigma(\overline \theta, \overline{\P}, \overline s)=\theta, \P, s$ for some $s \in N$.
%\end{itemize}
%Let $\overline q \in \overline{\P}$. Then $q = \sigma(\overline q) \in X$.
%Let $\G$ be generic for $\overline{\P}$ over $\N$ such that $\overline q \in \G$. Then by subcompleteness of $\P$, we have that there is $p \in \P$ such that whenever $G$ is generic and $G$ contains $p$, then there is $\sigma' \in V[G]$ satisfying: \begin{enumerate}
%	\item $\sigma': \N \prec N$
%	\item $\sigma'(\overline \theta, \overline{\P}, \overline s, \overline q)=\theta, \P, s, q$
%	\item $\sk{N}{\delta}{\sigma'} = \Sk{N}{\delta}{X}$
%	\item $\sigma'``\, \G \subseteq G$.
%\end{enumerate}
%In particular, 
%	$$q = \sigma(\overline q)=\sigma'(\overline q) \in G.$$ Thus $q$ is compatible with $p$, and so there is $r \in G$ satisfying $r \leq q$ and $r \leq p$. But then this $r$ verifies the subproperness of $\P$, since this $r$ is also below $p$.
%\end{proof}
%By \textbf{Theorem \ref{thm:SubproperMM}}, this means that subcomplete forcings also preserve stationary subsets of $\omega_1$. Thus the class of subcomplete forcing is not the same as the class of countably distributive forcing notions (those that don't add new reals). The following lemma tells us that the verification of subcompleteness is absolute to suitably large structures.
%
%\begin{lemma}[Jensen] \label{lemma:scabsolute} Suppose that $\P \in H_\theta$ and let $\eta>|H_\theta|$. 
%
%$\P$ is subcomplete as verified by $\theta$ $\iff$ $\P$ is subcomplete in $H_\eta$ as verified by $\theta$.  \end{lemma} 
%\begin{proof}
%If $\P$ is subcomplete in $H_\eta$ then $\P$ is subcomplete in $V$ because in the definition of subcompleteness, only $N=L_\tau[A] \in H_\eta$ need to be considered. To see why, assume that $\P$ is subcomplete as verified by $\theta$ in $H_\eta$.  Then we show that $\P$ actually is subcomplete as verified by $\theta$.
%\begin{claim} Whenever we are in a situation where \begin{itemize}
%	\item $\P \in H_\theta \subseteq N = L_\tau[A] \models \ZFC^-$ where $\tau>\theta$ and $A \subseteq \tau$
%	\item $\sigma: \N \cong X \preccurlyeq N$ where $X$ is countable and $\N$ is full
%	\item $\sigma(\overline \theta, \overline{\P}, \overline s)=\theta, \P, s$ for some $s \in N$;
%\end{itemize}
%then we have that if $\G$ is  $\overline{\P}$-generic over $\N$ then there is $p \in \P$ such that whenever $G \ni p$ is $\P$-generic, there is $\sigma' \in V[G]$ satisfying: \begin{enumerate}
%	\item $\sigma': \N \prec N$
%	\item $\sigma'(\overline \theta, \overline{\P}, \overline s)=\theta, \P, s$
%	\item $\sk{N}{\delta}{\sigma'} = \Sk{N}{\delta}{X}$
%	\item $\sigma'`` \G \subseteq G$.
%\end{enumerate} \end{claim}
%\begin{proof}[Pf.]
%We find a suitable embedding, similar to $\sigma$, but in $H_\eta$. Let $ \pi: N_0 \cong \Sk{N}{H_\theta}{X \cup \delta \cup \{s\}} =Y \preccurlyeq N$. Then $N_0 \in H_\eta$. Since $X \subseteq Y$ and $X \preccurlyeq N$, we have that $X \preccurlyeq Y$. Thus, letting $X_0=\pi^{-1}``X$, we have that $X \cong X_0 \preccurlyeq N_0$. So taking the Mostowski collapse $\N_0$, we have that $\N_0=\N$. Thus we have:
%\begin{itemize}
%	\item $\sigma_0:\N \cong X_0 \preccurlyeq N_0$ in $H_\eta$ 
%	\item $\sigma_0(\overline \theta, \overline{\P}, \overline s)=\sigma(\overline \theta, \overline{\P}, \overline s)=\theta, \P, s$. 
%	\end{itemize}
%So by the subcompleteness of $\P$ in $H_\eta$, we have that if $\G \subseteq \overline{\P}$ is generic over $\N$ then there is $p \in \P$ such that whenever $G_0 \ni p$ is $\P$-generic over $H_\eta$, there is $\sigma_0'\in H_\eta[G_0]=V^{H_\eta}[G_0]$ satisfying \begin{enumerate}
%	\item $\sigma_0': \N \prec N_0$
%	\item $\sigma_0'(\overline \theta, \overline{\P}, \overline s)=\theta, \P, s$
%	\item $\sk{N_0}{\delta}{\sigma_0'} = \Sk{N_0}{\delta}{X_0}$
%	\item $\sigma_0'`` \G \subseteq G_0$.
%\end{enumerate}
%If $G \ni p$ is $\P$-generic over $V$, then $G$ is also $\P$-generic over $H_\eta$. We thus have that items \textsl{\textbf{1}} and \textsl{\textbf{2}} of the \textit{Claim} hold, since letting $\sigma'=\sigma_0' \circ \pi \in V[G]$ we have $\sigma':\N \prec N$ and $\sigma'(\overline \theta, \overline{\P}, \overline s)=\theta, \P, s$.  Moreover item \textsl{\textbf{3}} holds since $\pi``\sk{N_0}{\delta}{\sigma_0'} = \sk{N}{\delta}{\sigma'}$ and $\pi``\Sk{N_0}{\delta}{X_0} = \Sk{N}{\delta}{X}$. For property \textbf{\textsl{4}}, the point is that $\pi \rest H_\theta = \id$, so $\pi \circ \sigma_0' `` \G = \sigma_0'``\G \subseteq G$. This finishes the proof of the \textit{Claim}.
% \end{proof}
%
%Finally, if $\P$ is subcomplete in $V$ as verified by $H_\theta$, then $\P$ is subcomplete in $H_\eta$ since given $\sigma \in H_\eta$ where $\sigma: \N \prec N$, we have of course that $\N, N \in H_\eta$. Additionally $\sigma \in V$, and we may apply subcompleteness in $V$ to obtain a condition $p \in \P$ such that whenever $p \in G$, there is a $\sigma' \in V[G]$ having certain properties, namely \textbf{1} through \textbf{4} of the definition. Such generic filters over $V$ are also generic over $H_\eta$, and furthermore $\sigma' \in H_\eta[G] = V^{H_\eta}[G]$ since $\N$ and $N$ are in $H_\eta$. So the rest of the properties are also clear, and $\P$ is subcomolete in $H_\eta$ as desired.
%\end{proof}

\begin{remark}\label{remark:VerifyingSC} If $\P$ is subcomplete as verified by $\theta$, then $\P$ is subcomplete as verifed by $\theta' > \theta$ since $\P \in H_\theta$ obviously implies that $\P \in H_{\theta'}$. Thus a standard setup such as $\P \in H_{\theta'} \subseteq N=L_\tau[A]$ for $\tau>\theta'$ may be reduced down to the case where $\P \in H_{\theta} \subseteq N=L_\tau[A]$ and $\tau>\theta'>\theta$ using the same $\tau$. In particular, $\P$ is subcomplete as long as it is verified to be subcomplete by some $\theta$. So ``sufficiently large $\theta$" may be replaced with ``some $\theta$" in the definition of subcompleteness.\footnote{See \cite[Section 3.1 Lemma 2.4]{Jensen:2012fr}.} \end{remark}

\subsection{Subcomplete above $\mu$} \label{subsec:subcompleteabovemu}
The notion of subcompleteness above $\mu$ is an attempt to measure where exactly subcompleteness kicks in; in some sense it gives a level as to where forcing fails to be complete. The following definition is from Jensen \cite[Chapter 2 p.\ 47]{Jensen:2009fe}.
\begin{definition} 
Let $\mu$ be a cardinal. We say that a forcing notion $\P$ is \emph{subcomplete above $\mu$} so long as for sufficiently large $\theta > \mu$, whenever we are in the standard setup (as in the definition of subcomplete forcing),
then, for any $\G \subseteq \overline{\P}$, there is a subcompleteness condition $p \in \P$ such that whenever $G \ni p$ is $\P$-generic, then there is $\sigma' \in V[G]$ satisfying in addition that $\sigma' \rest H_{\overline \mu}^{\N} = \sigma \rest H_{\overline \mu}^{\N}$.

As usual, this means that in particular below the condition $p$ there is an embedding $\sigma'$ that lifts by (4) to an embedding $\sigma'^*:\N[\G] \prec N[G]$ in $V[G]$. As usual we say that such $\theta$ as above \textit{verifies the subcompleteness above $\mu$ of $\P$}, and we may say that $\P$ is subcomplete if there is a $\theta$ that verifies its subcompleteness above $\mu$.
\end{definition}

\begin{remark} If $\P$ is subcomplete, then $\P$ is subcomplete above $\omega_1^{\N}$. \end{remark}
\begin{proof} By Remark \ref{remark:CPofourEmbeddings}, we have that for any elementary embedding such as $\sigma$ or $\sigma'$ from countable $\N$ to $N$, $\sigma' \rest H_{\overline{\omega_1}}^{\N} = \sigma \rest H_{\overline{\omega_1}}^{\N} = \text{id}$. \end{proof}

The meaning of subcompleteness above $\mu$ is somewhat given by the following theorem.
\begin{theorem} If $\P$ is subcomplete above $\mu$ then $\P$ does not add new countable subsets of $\mu$. \end{theorem}
\begin{proof}
Suppose not. Let $\P$ be subcomplete above $\mu$. Let $\dot B \subseteq \mu$ be countable with 
	$$p \forces \left( \dot f: \check \omega \cong \dot B \ \land\ \dot f \notin V \right).$$ 
Take $\theta > \mu$ large enough to verify the subcompleteness of $\P$. \begin{itemize}
	\item $\P \in H_\theta \subseteq N = L_\tau[A] \models \ZFC^-$ where $\tau>\theta$ and $A \subseteq \tau$
	\item $\sigma: \N \cong X \preccurlyeq N$ where $\N$ is countable and full
	\item $\sigma(\overline \theta, \overline \mu, \overline{\P}, \overline p, \overline{\dot B}, \overline{\dot f})=\theta, \mu, \P, p, \dot B, \dot f$.
\end{itemize}
Let $\G$ be $\overline{\P}$-generic over $\N$ with $\overline p \in \overline G$. By the subcompleteness of $\P$ above $\mu$ there is $p \in \P$ such that whenever $p \in G$ where $G$ is $\P$-generic, there is $\sigma' \in V[G]$ satisfying: \begin{enumerate}
	\item $\sigma': \N \prec N$
	\item $\sigma'(\overline \theta, \overline \mu, \overline{\P}, \overline p, \overline{\dot B}, \overline{\dot f})=\theta, \mu, \P, p, \dot B, \dot f$
	\item $\sk{N}{\delta}{\sigma'} = \Sk{N}{\delta}{X}$
	\item $\sigma'``\G \subseteq G$
	\item $\sigma' \rest \overline \mu = \sigma \rest \overline \mu$.
\end{enumerate}
Let $\overline f = \overline{\dot f}^{\G}$ and $f = \dot f^G$. By (4) and (5), for each $n$, $$f(n)=\sigma'(\overline f(n)) = \sigma(\overline f(n)),$$ meaning that $f \in V$ since $\sigma \in V$, which is a contradiction.
\end{proof}
Thus if $\P$ is subcomplete above $\mu$, then $\mu$'s cardinality, and even its cofinality, cannot be altered to be $\omega$ via $\P$.



\subsection{Barwise Theory}
\label{subsec:BarwiseTheory}
In order to show that many posets are subcomplete, Jensen exploits Barwise Theory and techniques using countable admissible structures to obtain transitive models of infinitary languages. Barwise creates an $M$-finite predicate logic, a first order theory in which arbitrary, but $M$-finite, disjunctions and conjunctions are allowed. The following is an outline of \cite[Chapter 1 \& 2]{Jensen:2012fr}. 

\begin{definition} Let $M$ be a transitive structure with potentially infinitely many predicates. A theory defined over $M$ is $M$-\emph{finite} so long as it is in $M$. A theory is $\Sigma_1(M)$, also known as \emph{$M$-recursively enumerable} or $M$-$re$, if the theory is $\Sigma_1$-definable, with parameters from $M$. \end{definition}
Of course this may be generalized to the entire usual Levy hierarchy of formulae, but only $\Sigma_1(M)$ is needed in this paper. If $\mathcal L$ is a $\Sigma_1$(M)-definable language or theory, the rough idea is that to check whether a sentence is in $\mathcal L$, one should imagine enumerating the formulae of $\mathcal L$ to find a sentence and a witness to it in the structure $M$. The structures considered here are admissible, defined below.

\begin{definition} A transitive structure $M$ is \emph{admissible} if it models the axioms of \textsf{Kripke-Platek Set Theory} (\textsf{KP}) which consists of the axioms of \textsf{Empty Set}, \textsf{Pairing}, \textsf{Union}, $\Sigma_0$-\textsf{Collection}, and $\Sigma_0$-\textsf{Separation}. \end{definition}

Jensen also makes use of models of $\textsf{ZF}^-$ that are not necessarily well-founded.
\begin{definition} Let $\mathfrak A = \langle A, \in_{\mathfrak A}, B_1, B_2, \dots \rangle$ be a (possibly) ill-founded model  of $\textsf{ZF}^-$, where $\mathfrak A$ is allowed to have predicates other than $\in$. The \emph{well-founded core} of $\mathfrak A$, denoted $\wfc(\mathfrak A)$, is the restriction of $\mathfrak A$ to the set of all $x \in A$ such that $\in_{\mathfrak A} \cap \ \mathcal C(x)^2$ is well founded, where $\mathcal C(x)$ is the closure of $\{x\}$ under $\in_{\mathfrak A}$. A model $\mathfrak A$ of $\textsf{ZF}^-$ is \emph{solid} so long as $\wfc(\mathfrak A)$ is transitive and $\in_{\wfc(\mathfrak A)}=\in \cap \wfc(\mathfrak A)^2$. \end{definition}

Jensen \cite[Section 1.2]{Jensen:2012fr} notes that every consistent set of sentences in $\textsf{ZF}^-$ has a solid model, and if $\mathfrak A$ is solid, then $\omega \subseteq \wfc(\mathfrak A)$. In addition,

\begin{fact}[Jensen] If $\mathfrak A \models \textsf{\textup{ZF}}^-$ is solid, then $\wfc(\mathfrak A)$ is admissible. \end{fact}

\begin{definition} \label{def:InTheoriesAndBasicAxioms} Let $M$ be admissible. An infinitary axiomatized theory in $M$-finitary logic $\mathcal L = \mathcal L(M)$ is called an \textit{$\in$-theory} over $M$, with a fixed predicate $\dot \in$ and \emph{special constants} denoted $\underline x$ for elements $x \in M$. The underlying axioms for these $\in$-theories will always involve $\ZFC^-$ and some basic axioms ensuring that $\dot \in$ behaves nicely; 
the \textsf{Basic Axioms} are: \begin{itemize}
	\item \textsf{Extensionality}
	\item A statement positing the extensionality of $\dot \in$, which is a scheme of formulae defined for each member of $M$. For each $x \in M$, include an $M$-$re$ sentence (meaning it quantifies over $M$-finite sentence): 
	$$\forall v \left( v \ \dot \in\, \underline x \iff \bigdoublevee_{z \in x} v= \underline z \right).$$
\end{itemize} Here $\displaystyle\bigdoublevee$ denotes an infinite disjunction in the language.\end{definition}

In the above definition, it should be clarified that it is possible to consider the same $\in$-theory defined over different admissible structures; if $M, M'$ are both admissible, then it is possible to have that $\mathcal L(M)$ and $\mathcal L(M')$: the distinction is only as to where the special constants come from. 

An important fact ensured by our \textsf{Basic Axioms} is that the interpretations of these special constants in any solid model of the theory are the same as in $M$:

\begin{fact}[Jensen] Let $M$ be as in the above definition. Let $\mathfrak A$ be a solid model of the $\in$-theory $\mathcal L$. Then for all $x \in M$, we have that $\underline{x}^{\mathfrak A} = x \in \wfc(\mathfrak A)$. \end{fact}
%\begin{proof}[Pf.] Shown by $\in$-induction. \end{proof}

Jensen uses the techniques of Barwise to come up with a proof system in this context, in which consistency of $\in$-theories can be discussed. In particular, $\in$-theories are correct: if there is a model of such a theory, then the theory is consistent. 
\begin{fact}[\emph{Barwise Correctness}] \label{fact:correctness} 
Let $\mathcal L$ be an $\in$-theory. If $A$ is a set of $\mathcal L$-statements and $\mathfrak A \models A$, then $A$ is consistent. \end{fact}

Furthermore, compactness and completeness are shown, relativized to the $M$-finite predicate logics that are used here; solid models of consistent $\Sigma_1(M)$ $\in$-theories are produced for countable admissible structures $M$. 

\begin{fact}[\emph{Barwise Completeness}] \label{fact:completeness} Let $M$ be a countable admissible structure. Let $\mathcal L$ be a consistent $\Sigma_1(M)$ $\in$-theory such that $\mathcal L \vdash \textsf{\textup{ZF}}^-$. Then $\mathcal L$ has a solid model $\mathfrak A$ such that $$\Ord \cap \wfc(\mathfrak A) = \Ord \cap M.$$ \end{fact}

%\begin{fact}[\textbf{\emph{Barwise Compactness}}] \label{fact:compactness} 
%Let $M$ be countable. Let $\mathcal T = \langle \mathcal L, A \rangle$ be an axiomatized $\in$-theory where $\mathcal L$ is a language and $A$ is a set of $\mathcal L$-statements. Let $\mathcal L$ be $\mathbf{\Delta}_1$ and $A$ be $\mathbf{\Sigma}_1$. If every $M$-finite subset of $A$ has a model, then so does $A$.
%\end{fact}

The following definition generalizes the concept of fullness.
\begin{definition} A transitive $\ZFC^-$ model $N$ is \emph{almost full} so long as $\omega \in N$ and there is a solid $\mathfrak A \models \ZFC^-$ with $N \in \wfc(\mathfrak A)$ and $N$ is regular in $\mathfrak A$. \end{definition}
Clearly if $N$ is full, then $N$ is almost full.

A useful technique when showing a particular forcing is subcomplete, once many different embeddings can be constructed that approximate the embedding required for subcompleteness, is to be able to transfer the consistency of $\in$-theories over one admissible structure to another. 
\begin{definition} If $N$ is a transitive $\ZFC^-$ model, let $\delta_N$ be the least $\delta$ such that $L_\delta(N)$ is admissible. \end{definition}

\begin{fact}[\emph{The Transfer Lemma}]\label{fact:Transfer} Let $N_1$ be almost full, and suppose that $k: N_1 \prec N_0$ cofinally, for some $N_0$. Suppose that we have an $\Sigma_1(\langle N_1; \, p_1, \dots, p_n\rangle)$  $\in$-theory $\mathcal L(L_{\delta_{N_1}}(N_1))$ for $p_1, \dots, p_n \in N_1$.

Moreover, suppose $\mathcal L(L_{\delta_{N_0}}(N_0))$ is $\Sigma_1(\langle N_1; \, k(p_1), \dots, k(p_n)\rangle)$. 

Then, 
if $\mathcal L(L_{\delta_{N_1}}(N_1))$ is consistent, it follows that $\mathcal L(L_{\delta_{N_0}}(N_0))$ is consistent as well. \end{fact} 

\subsection{Liftups}
\label{subsec:Liftups}
The following definitions are meant to describe a method used to obtain useful embeddings, outlining a technique that is ostensibly the ultrapower construction. These embeddings facilitate the use of Barwise theory to obtain the consistency of the existence of desirable embeddings. Refer to \cite[Chapter 1]{Jensen:2012fr} for the definitions and theorems stated here.
%\begin{definition} A map $\pi: \overline{\mathfrak A} \to \mathfrak A$ is $\Sigma_n$-preserving ($\pi: \overline{\mathfrak A} \to_{\Sigma_0} \mathfrak A$) if and only if for all $\Sigma_n$-formulas and all $x_1, \dots x_n \in \overline{\mathfrak A}$, $$\overline{\mathfrak A} \models \varphi[x_1, \dots x_n] \iff \mathfrak A \models \varphi[\pi(x_1), \dots, \pi(x_n)].$$ \end{definition}

\begin{definition} Let $\N$ and $N$ be transitive $\ZFC^-$ models. We say that an elementary embedding $\sigma: \N \prec N$ is \emph{cofinal} so long as for each $x \in N$ there is some $u \in \N$ such that $x \in \sigma(u)$. 

Let $\alpha \in \N$. We say that $\sigma$ is \emph{$\alpha$-cofinal} so long as every such $u$ has size less than $\alpha$ as computed in $\N$. \end{definition}
	
\begin{definition} Let $\alpha > \omega$ be a regular cardinal in $\N$, a transitive $\ZFC^-$ model. Let 
	$$\overline \sigma: H^{\N}_\alpha \prec H \text{ cofinally,}$$ where $H$ is transitive. By a \emph{transitive liftup} of $\langle \N, \overline \sigma \rangle$ we mean a pair $\langle N_* , \sigma_* \rangle$ such that 
\begin{itemize} 
	\item $N_*$ is transitive
	\item $\sigma_*:\N \prec N_*$ $\alpha$-cofinally
	\item $\sigma_* \upharpoonright H_{\alpha}^{\N}= \overline \sigma$. \qedhere
\end{itemize}	
\end{definition}

Reminiscent of ultrapowers, transitive liftups can be characterized in the following way:
\begin{lemma}[Jensen] \label{lemma:liftupchar} Let $\N$, $N$ be transitive $\ZFC^-$ models with $\sigma: \N \prec N$. Then,
$\sigma$ is $\alpha$-cofinal if and only if elements of $N$ are of the form $\sigma(f)(\beta)$ for some $f: \gamma \to \overline N$ where $\gamma < \alpha$ and $\beta < \sigma(\gamma)$. \end{lemma} 
\begin{proof} We show each direction of the equivalence separately.

For the first direction, let $x \in N$, and take $u \in \overline N$ with $x \in \sigma(u)$ such that $|u| <\alpha$ in $\overline N$. Let $|u|=\gamma$, and take $f:\gamma \to u$ a bijection in $\overline N$. Then $\sigma(f):\sigma(\gamma) \to \sigma(u)$ is also a bijection in $N$ by elementarity. Since $x \in \sigma(u)$ we also have that $x$ has a preimage under $\sigma(f)$, say $\beta$. So $\sigma(f)(\beta)=x$ as desired.

For the backward direction, let $x=\sigma(f)(\beta)$ be an element of $N$, for $f:\gamma \to \overline N$ where $\gamma < \alpha$ in $\overline N$ and $\beta < \sigma(\gamma)$. Define $u = f``\gamma$. Then in $\overline N$ we have that $|u|<\alpha$. In addition we have that $x \in \sigma(u)$, since $\sigma(u)$ is in the range of $\sigma(f)$, where $x$ lies.
\end{proof}

Furthermore, Jensen shows that transitive liftups exist so long as an embedding already exists, using an ultrapower-like construction, and have a uniqueness property.

\begin{fact}[\emph{Interpolation}]\label{fact:Interpolation} Let $\sigma:\N \prec N$ with $\N \models \ZFC^-$ transitive, and let $\alpha \in \N$ be a regular cardinal. Then: \begin{enumerate}
	\item The transitive liftup $\langle N_*, \sigma_* \rangle$ of $\langle \N, \sigma \rest H^{\N}_\alpha \rangle$ exists.
	\item There is a unique $k_*:N_* \prec N$ such that $k_* \circ \sigma_* = \sigma$ and $k_* \rest \bigcup \sigma `` H^{\N}_\alpha = \id$.
\end{enumerate}
\end{fact} 

For the next useful lemma, a more general notion of liftups needs to be defined. Of course the rich theory is established by Jensen, and is explored in detail in his notes.
\begin{definition} Let $\mathfrak A$ be a solid model of $\ZFC^-$ and let $\tau \in \wfc(\mathfrak A)$ be an uncountable cardinal in $\mathfrak A$. Let $$\sigma: H_{\tau}^\mathfrak A \prec H \text{ cofinally,}$$ where $H$ is transitive. Then by a \textit{liftup} of $\langle \mathfrak A, \sigma\rangle$, we mean a pair $\langle {\mathfrak A}_*, \sigma_* \rangle$ such that 
\begin{itemize}
	\item $\sigma_* \supseteq \sigma$
	\item ${\mathfrak A}_*$ is solid
	\item $\sigma_*: \mathfrak A \To_{\Sigma_0} {\mathfrak A}_*$ $\tau$-cofinally
	\item $H \in \wfc({\mathfrak A}_*)$ \qedhere
\end{itemize}
\end{definition}
\begin{fact}[Jensen]\label{fact:solidliftup} Let $\mathfrak A$ be a solid model of $\ZFC^-$. Let $\tau > \omega$, $\tau \in \wfc(\mathfrak A)$, and let $$\sigma: H_{\tau}^{\mathfrak A} \prec H \text{ cofinally,}$$  where $H$ is transitive. Then $\langle \mathfrak A, \sigma \rangle$ has a liftup $\langle \mathfrak A_*, \sigma_* \rangle$.
\end{fact}

The following lemma states that transitive liftups of full models are almost full.

\begin{lemma}[Jensen]\label{lemma:liftupfull} Let $N =L_\tau[A] \models \ZFC^-$ and $\sigma: \N \prec N$ where $\N$ is full. Suppose that $\langle N_*, \sigma_* \rangle$ is a transitive liftup of $\langle \N, \overline \sigma \rangle$. Then $N_*$ is almost full. \end{lemma}
\begin{proof}
	Let $L_\gamma(\N)$ witness the fullness of $\N$. We will now apply Interpolation (Fact \ref{fact:Interpolation}) to $\mathfrak A= L_\gamma(\N)$, which makes sense since certainly $\mathfrak A$ is a transitive model $\ZFC^-$. Additionally, by Lemma \ref{lemma:regularityequiv} we have that $\N = H_\tau^{\mathfrak A}$, where $\tau = \height(\N)$. Since $\langle N_*, \sigma_* \rangle$ is a transitive liftup, we have that $$\sigma_*: H_\tau^{\mathfrak A} \prec N_* \text{ cofinally,}$$ where $N_*$ is transitive. Thus since $\mathfrak A$ is transitive, $\langle \mathfrak A, \sigma_* \rangle$ has a liftup $\langle \mathfrak A_*, {\sigma_*}_* \rangle$, where $\mathfrak A_* \models \ZFC^-$ since $\mathfrak A$ does, $\mathfrak A_*$ is solid, where $${\sigma_*}_* : \mathfrak A \prec \mathfrak A_* \text{ $\tau$-cofinally.}$$ 
	We have that  $N_* \subseteq \wfc({\mathfrak A}_*)$ and $\tau_*= {\sigma_*}_*(\tau)=\height(N_*)$ is regular since $\tau$ is. Furthermore, we will show that $N_* = H_{\tau_*}^{\mathfrak A_*}$, completing the proof:
	
	Certainly it is the case that $N_* \subseteq H_{\tau_*}^{\mathfrak A^*}$. 
	But if $x \in H_{\tau_*}$ in $\mathfrak A_*$, then by regularity we have that $x \in {\sigma_*}_*(u)$ in $\mathfrak A_*$, where $u \in \mathfrak A$, and $|u| < \tau$ in $\mathfrak A$. Let $v=u \cap H_\tau$ in $\mathfrak A$. Then $v \in \N$, since $\N$ is regular in $\mathfrak A$. But then $x \in \sigma_*(v) \in N_*$. So $x \in N_*$.
\end{proof}


\section{Generalized Diagonal Prikry Forcing}
\label{sec:GenDiagonalPrikryForcing}
Generalized diagonal Prikry forcing is designed to add a point below every measurable cardinal in an infinite discrete set of measurable cardinals. In this section it is shown that such forcings are subcomplete.
\begin{definition}
Let $D$ be an infinite discrete set of measurable cardinals, meaning a set of measurable cardinals that does not contain any of its limit points. For $\kappa \in D$ let $U(\kappa)$ be a normal measure on $\kappa$, and let $\U$ denote the sequence of the $U(\kappa)$'s.

Define $\D=\D(\U)$, \emph{generalized diagonal Prikry forcing} from the list of measures $\U$, by taking conditions of the form  
$( s, A )$ satisfying the following:
\begin{itemize}
	\item The \textit{stem} of the condition, $s$, is a function with domain in $[D]^{<\omega}$ taking each measurable cardinal $\kappa \in \dom(s)$ to some ordinal $s(\kappa) < \kappa$.
	\item The \textit{upper part} of the condition, $A$, is a function with domain $D \setminus {\dom(s)}$ taking each measurable cardinal $\kappa \in \dom(A)$ to some measure-one set $A(\kappa) \in U(\kappa)$.
\end{itemize}
The extension relation on conditions in $\D$ is defined so that $( s, A ) \leq ( t, B )$ so long as 
\begin{itemize}
	\item $s \supseteq t$.
	\item The points in $s$ not in $t$ come from $B$, i.e., for all $\kappa \in \dom(s) \setminus \dom(t)$, $s(\kappa) \in B(\kappa)$.
	\item For all $\kappa \in \dom(A)$, $A(\kappa) \subseteq B(\kappa)$.
\end{itemize}
If $G$ is a generic filter for $\D$, then its associated $\D$-generic sequence is \[S = S_G = \bigcup \set{ s }{ \exists A \ ( s, A ) \in G }.\qedhere\]
\end{definition}

Here the definition of $\D(\U)$ differs from that as in Fuchs of generalized Prikry foricing \cite{Fuchs:2005kx}. The main difference is that here only one point is added below each measurable cardinal $\kappa \in D$, which is done for simplicity's sake. It is not hard to see that the following theorem also shows that the forcing adding countably many points below each measurable cardinal in $D$ is subcomplete. Adding countably many points below each measurable cardinal in $D$ would collapse the cofinality of each $\kappa \in D$ to be $\omega$, as one expects of a Prikry-like forcing. %Maybe show this more rigorously

Also in the above definition it hasn't been enforced that the stem a condition consists only of ordinals that are wedged between successive measurables in $D$; ie. for $\kappa \in D$, it is not explicitly insisted that $s(\kappa) \in [\sup(D\cap \kappa), \kappa)$. However, it is dense in $\D(\U)$ for the conditions to be that way, since conditions may be strengthened by restricting their upper parts to a tail. Thus such a restriction may be freely added to the following genericity condition on $\D(\U)$.

\begin{fact}[Fuchs] \label{fact:diagprikrymathias} Let $D$ be an infinite discrete set of measurable cardinals, with $\U$ a corresponding list of measures $\langle U(\kappa) \;|\; \kappa \in D \rangle$. Then an increasing sequence of ordinals $S = \langle S(\kappa) \;|\; \kappa \in D \rangle$, where for each $\kappa \in D$, we have that $$\sup(D \cap \kappa) < S(\kappa) < \kappa,$$ is a $\D(\U)$-generic  sequence if and only if for all $\mathcal X = \langle X_\kappa \in U(\kappa) \;|\; \kappa \in D \rangle$, the set $$\{ \kappa \in D \;|\; S(\kappa) \notin X_\kappa\}$$ is finite.
\end{fact}

The above genericity criterion on generalized diagonal Prikry forcing is similar to the Mathias criterion for Prikry forcing. It was shown in \cite[Theorem 1]{Fuchs:2005kx}. 

\begin{theorem} Let $D$ be an infinite discrete set of measurable cardinals. %, such that $\otp(D)$ is less than the first limit point of $D$. 
Let $\U = \langle U(\kappa) \;|\; \kappa \in D \rangle$ be a list of measures associated to $D$. The generalized diagonal Prikry forcing $\D=\D(\U)$ is subcomplete. \end{theorem}
\begin{proof} 
Let $\theta > \delta(\D) =\delta$ be large enough, so that $[\delta]^{<\omega_1} \in H_\theta$. 

First of all, it must be the case that $\delta$, the density of $\D$, must be larger than all of the measurable cardinals in $D$.
\begin{claimno} $\delta \geq \sup D$. \end{claimno}
\begin{proof}[Pf.] Suppose instead that there is a dense $E \subseteq \D$ such that $\sup D \geq \kappa^* >|E|$ for some $\kappa^* \in D$. Then for each condition $(s,A) \in E$ either $\kappa^* \in \dom s$ or $\kappa^* \in \dom A$. So taking $E^*=\set{ (s, A) \in E }{ \kappa \in \dom s } \subseteq E$, since $|E^*| < \kappa^*$ as well, there is an $\alpha<\kappa^*$ such that $\sup_{(s,A) \in E^*} s(\kappa^*)$. Let $p=(t, B) \in \D$ be defined so that $t(\kappa^*)=\alpha$ and $B(\kappa)=\kappa$ for all $\kappa \in D \setminus \{ \kappa^*\}$. Then $p$ cannot be strengthened by any condition in $E$ since $\kappa^*$ is not in any of the stems of conditions in $E$. So dense subsets of $\D$ must have size at least $\sup D$.\end{proof}

Let $\nu = \delta^+$. Let $\kappa(0)$ be the first measurable cardinal in $D$. %Since we have that $\lambda$ is less than the first limit point of $D$, there is $\kappa' \in D$ such that $\lambda < \kappa' $ for some $\kappa' \in D$, where there are finitely many measurables of $D$ below $\kappa'$. 

In order to show that $\D$ is subcomplete, suppose we are in the standard setup: \begin{itemize}
	\item $\D \in H_\theta \subseteq N = L_\tau[A] \models \ZFC^-$ where $\tau>\theta$ and $A \subseteq \tau$
	\item $\sigma: \N \cong X \preccurlyeq N$ where $X$ is countable and $\N$ is full
	\item $\sigma(\overline \theta, \overline{\D}, \overline{\U}, \overline c)=\theta, \D, \U, c$ for some $c \in N$.
\end{itemize}
By our requirement on $\theta$ being large enough, we've also ensured that $N$ is closed under countable sequences of ordinals less than $\delta$.

In what follows, we will be taking a few different transitive liftups of restrictions of $\sigma$, and it will useful to keep track of embeddings between $\N$ and $N$ pictorially. Although it's not extraordinarily illuminating at this point in our discussion, the following figure shows the situation we are currently in.



Here we place bars on everything that is relevant on the $\N$ side of the embedding. In particular, $\sigma(\overline \delta)=\delta$, $\overline \nu = {\overline \delta^+}^{\N}$, $\overline D$ is the discrete set of measurables in $\N$ that each measure in $\overline \U$ comes from, and $\overline \kappa(0)$ is the first measurable in $\overline D$, in the sense of $\N$. %$\overline \lambda = \otp(\overline D)$, and where there is some $\overline \kappa'$ such that $\overline \lambda < \overline \kappa'$ and $\overline \kappa'$ has finitely many measurables below it in $\overline D$.

\begin{center}
\begin{tikzpicture}
\draw (-1,0)--(-1,3);
\node [below] at (-1,0) {$\N$};
\node at (-1,2.95) {$\frown$};

\node [left] at (-1,1) {$\overline \kappa(0) \in \overline D$};
\node at (-1,1) {-};
\node [left] at (-1,2) {$\overline \delta$};
\node at (-1,2) {-};
\node [left] at (-1,2.5) {$\overline \nu$};
\node at (-1,2.5) {-};

\draw [->] (-.8,1)--(.8,2);
\draw [->] (-.8,2)--(.8,3);
\draw [->] (-.8,2.5)--(.8,3.5);

\node [right] at (1,2) {$\kappa(0) \in D$};
\node at (1,2) {-};
\node [right] at (1,3) {$\delta$};
\node at (1,3) {-};
\node [right] at (1,3.5) {$\nu$};
\node at (1,3.5) {-};

\draw (1,0)--(1,4);
\node [below] at (1,0) {$N$};
\node at (1,3.95) {$\frown$};

\draw [->, thick] (-.7,-0.3)--(.7,-0.3);
\node [above] at (0,-0.3) {$\sigma$};
\end{tikzpicture}
\end{center}

Toward showing that $\D$ is subcomplete, we are additionally given some $\G \subseteq \overline{\D}$ that is generic over $\N$. Rather than working with $\G$, we will work with $\S = \seq{ \S(\overline \kappa) }{ \overline \kappa \in \overline D }$, its associated $\overline \D$-generic sequence. We must show following, where $C=\Sk{N}{\delta}{X}$:

\begin{claim} There is a $\D$-generic sequence $S$ and a map $\sigma' \in V[S]$ such that: \begin{enumerate}
	\item $\sigma': \N \prec N$
	\item $\sigma'(\overline \theta, \overline{\D}, \overline{\U}, \overline c)=\theta, \D, \U, c$
	\item \label{item:MainClaimC=Sk} $\sk{N}{\delta}{\sigma'} = C$	
	\item $\sigma' `` \S \subseteq S$
\end{enumerate} \end{claim}
\begin{proof}[Pf.]  This proof uses Barwise theory\footnote{Key definitions, facts, and theorems of Barwise theory are summarized Section \ref{subsec:BarwiseTheory}.} heavily, and ultimately amounts to showing that a certain 
$\in$-theory, $\mathcal T$, which posits the existence of such a $\sigma'$, is consistent. Such an embedding $\sigma'$ could only possibly exist in a suitable generic extension, $V[S]$, where $S$ is $\D$-generic sequence that we will find later. 
Once we have such a suitable $V[S]$, we will use Barwise theory to find an appropriate admissible structure in $V[S]$ for which the theory $\mathcal T$, positing the existence of such a suitable $\sigma'$, defined below, has a model.

\begin{samepage}
For an admissible structure $M$ with $S, \overline S, \sigma, N, \theta, \D, \U, c \in M$ let the $\in$-theory $\mathcal T(M)$ be defined as follows: 
\begin{description}
	\item[predicate] $\in$ 
	\item[constants] $\dot{\sigma}, \underline x$ for $x \in M$
	\item[axioms] \begin{itemize} \item $\ZFC^-$ and \textsf{Basic Axioms}.
		\item $\dot \sigma : \overline{\underline N} \prec \underline N$
		\item $\dot{\sigma}(\overline{\underline{\theta}}, \overline{\underline{\D}}, \overline{\underline{\U}}, \overline{\underline c})=\underline{\theta}, \underline{\D}, \underline{\U}, \underline{c}$
		\item $\sk{\underline N}{\underline{\delta}}{\dot \sigma} = \sk{\underline N}{\underline \delta}{\underline \sigma}$
		\item $\dot \sigma ``\overline{\underline S} \subseteq \underline S$.
	\end{itemize}
\end{description}
\end{samepage}

The $\in$-theory is $\Sigma_1(M)$, since all of the axioms are $M$-finite except for the \textsf{Basic Axioms}, which altogether are $M$-$re$.

We need to find an appropriate $\D$-generic sequence $S$ and a suitable admissible structure $M$ containing $S$ so that $\mathcal T(M)$ is consistent. To do this we use transitive liftups and Barwise theory. Transitive liftups will give us the consistency of certain embeddings that approximate the one we are looking for, and we will rely on Barwise Completeness (Fact \ref{fact:completeness}) to obtain the existence of a model with our desired properties. 

Toward this end, let's take what will turn out to be our first transitive liftup, which is in some sense ensuring the consistency of (\ref{item:MainClaimC=Sk}) of our main claim.

Let $k_0 : N_0 \cong C$ where $N_0$ is transitive, and set $\sigma_0 = k_0^{-1} \circ \sigma$ and $\sigma_0(\overline \theta, \overline{\D}, \overline{\U}, \overline c) = \theta_0, \D_0, \U_0, c_0.$
Since $\delta \subseteq C$ and $N_0$ is transitive, $\sigma_0(\overline \delta)=\delta$. 

Indeed $N_0$ is actually a transitive liftup:

\begin{claimno} \label{claim:N0isliftupofN} $\langle N_0, \sigma_0 \rangle$ is the transitive liftup of $\langle \N, \sigma \upharpoonright H_{\overline \nu}^{\N} \rangle$. \end{claimno}
\begin{proof}[Pf.] Recall that $\nu=\delta^+$, and $\overline \nu={\overline \delta^+}^{\N}$. It must be shown that the embedding $\sigma_0: \overline N \prec N_0$ is $\overline \nu$-cofinal and that $\sigma_0 \upharpoonright H_{\overline \nu}^{\N}=\sigma \upharpoonright H_{\overline \nu}^{\overline N}$. 

To see that $\sigma_0$ is $\overline \nu$-cofinal, let $x \in N_0$. Then $k_0(x) \in C = \Sk{N}{\delta}{X}$ so $k_0(x)$ is uniquely $N$-definable from $\xi < \delta$ and $\sigma(\overline z)$ where $\overline z \in \N$. In other words, $$k_0(x) = \text{that } y \text{ such that } N \models \varphi(y, \xi, \sigma(\overline z)).$$ Let $u \in \N$ be defined as 
	$$u=\set{ w \in \N }{  w=\text{that } y \text{ such that } \N \models \varphi(y, \zeta, \overline z) \text{ for some } \zeta < \overline \delta }.$$
Certainly $u$ is non-empty by elementarity, since $k_0(x) \in \sigma(u).$
Furthermore, $|u| \leq \overline \delta < \overline \nu$ since every $w \in u$ is unique, and needs a corresponding $\zeta<\overline \delta$ to satisfy the formula $\varphi$ with.
Thus $x \in k_0^{-1}(\sigma(u))=\sigma_0(u)$ with $|u| < \overline \nu$ in $\N$, as desired. 

Since $X \cup \delta \subseteq C$, the Skolem hull in $N$, we know that $\sigma``H_{\overline \nu}^{\N} \subseteq C$. Thus $k_0^{-1} \upharpoonright \sigma``H_{\overline \nu}^{\overline N} = \text{id}$. Therefore $\sigma_0 \rest H_{\overline \nu}^{\N}=\sigma \rest H_{\overline \nu}^{\overline N}$, finishing the proof of the claim.
\end{proof}

Since $\overline \nu$ is regular in $\N$, in $N_0$ so is $\nu_0=\sigma_0(\overline \nu)=\sup \sigma_0``\overline \nu$. By Interpolation (Fact \ref{fact:Interpolation}), we may say that $k_0$ is defined by 
	$$k_0: N_0 \prec N \text{ where } k_0 \circ \sigma_0=\sigma \text{ and } k_0 \rest \nu_0 = \id.$$
In particular, $\nu_0$ is the critical point of $k_0$, which is continuous below $\nu_0$. Thus we are in a situation that we will represent with the following  diagram:
\begin{center}
\begin{tikzpicture}
\draw (-3,0)--(-3,3);
\node [below] at (-3,0) {$\N$};
\node at (-3,2.95) {$\frown$};

\node [left] at (-3,0.7) {$\overline \kappa(0) \in \overline D$};
\node at (-3,0.7) {-};
\node [left] at (-3,2) {$\overline \delta$};
\node at (-3,2) {-};
\node [left] at (-3,2.5) {$\overline \nu$};
\node at (-3,2.5) {-};

\draw [->] (-2.8,0.7)--(0.8,2.2);
\draw [->] (-2.8,2)--(0.8,3.6);
%\draw [->] (-2.8,2.5)--(0.8,4.5);

\node at (1,2.2) {-};

\node at (1,3.6) {-};
\node [above left] at (1,4.2) {$\nu_0$};
\node at (1,4.2) {$\bullet$};

\draw (1,0) -- (1,5.5);
\node [below] at (1,0) {$N_0$};
\node at (1,5.45) {$\frown$};

\draw [->] (1.2,2.2)--(2.8,2.2);
\draw [->] (1.2,3.6)--(2.8,3.6);
\draw [->] (-2.8,2.5)--(2.8,5);

\node [right] at (3,2.2) {$\kappa(0) \in D$};
\node at (3,2.2) {-};
\node [right] at (3,3.6) {$\delta$};
\node at (3,3.6) {-};
\node [right] at (3,5) {$\nu$};
\node at (3,5) {-};

\draw (3,0)--(3,6);
\node [below] at (3,0) {$N$};
\node at (3,5.95) {$\frown$};

\draw [->, thick] (-2.7,-0.3)--(0.7,-0.3);
\draw [->, thick] (1.3, -0.3)--(2.7,-0.3);
\node [above] at (-1,-0.3) {$\sigma_0$};
\node [above] at (2,-0.3) {$k_0$};
\draw[->,thick] (-2.75,-0.4) to [out = -30, in =-150] node[above]{$\sigma$} (2.9, -0.5);
\end{tikzpicture}
\end{center}

Already, we can say that $\sigma_0$ looks like it has one nice property: $\sk{N_0}{\delta}{\sigma_0}= C$, which somewhat looks like (\ref{item:MainClaimC=Sk}) of the main claim. However, we have not yet performed forcing, $\sigma_0$ is definable in $V$, and we still need to find a way to extend the generic sequence $\S$ to a $\D$-generic sequence over $N$. We still have a lot more work to do before finding $\sigma'$.

We shall define another $\in$-theory, $\mathcal L_*$. This will assist us in obtaining the diagonal Prikry extension $V[S]$ we need to satisfy our main claim. In order to do this, we will take another transitive liftup and apply the Transfer Lemma (Fact \ref{fact:Transfer}), in order to see that this new $\in$-theory is consistent over an admissible structure on $N_0$. 

Since we will be referring to the same $\in$-theory over two different transitive liftups, think of $``*"$ in the subscript as a kind of placeholder for some transitive liftup in the following definition, since it would work for any suitable transitive liftup of $\N$.

Suppose that $\langle N_*, \sigma_* \rangle$ is a transitive liftup of $\N$ along with some reasonable restriction of $\sigma$, ie. the liftup of $\langle \N, \sigma \rest H_{\alpha}^{\N} \rangle$, where $\alpha \geq \overline \kappa(0)$ is regular in $\N$, and say $$\sigma_*(\overline \theta, \overline{\D}, \overline{\U}, \overline c) = \theta_*, \D_*, \U_*, c_*.$$ Recall that $\delta_{N_*}$ is least satisfying $L_{\delta_{N_*}}(N_*)$ is admissible. 

Define the infinitary $\in$-theory $\mathcal L(N_*, \sigma_*)=\mathcal L_*$ as follows: 

\begin{description}
	\item[predicate] $\in$ 
	\item[constants] $\mathring{\sigma}, \mathring S, \underline x$ for $x \in L_{\delta_{N_*}}(N_*)$
	%\item[parameters] $N_*$ and $\theta_*, \mu_*, \D_*, \U_*, \lambda_*, D_*, c_* \in N_*$
	\item[axioms] \begin{itemize} \item $\ZFC^-$ and \textsf{Basic Axioms}
		\item $\mathring \sigma : \underline \N \prec \underline{N_*}$ is $\underline{\overline \kappa(0)}$--cofinal
		\item $\mathring{\sigma}(\overline{\underline{\theta}}, \overline{\underline{\D}}, \overline{\underline{\U}}, \overline{\underline c})=\underline{\theta_*}, \underline{\D_*}, \underline{\U_*}, \underline{c_*}$
		\item $\mathring S$ is a $\underline{\D_*}$-generic sequence over $\underline{N_*}$
		\item $\mathring \sigma ``\overline{\underline S} \subseteq \mathring S$.
	\end{itemize}
\end{description} 

As defined, we have that $\mathcal L_*$ is a $\Sigma_1(L_{\delta_{N_*}}(N_*))$-theory, since altogether the \textsf{Basic Axioms} are $\Sigma_1(L_{\delta_{N_*}}(N_*))$.

We claim that the theory over the transitive liftup $\langle N_0, \sigma_0\rangle$ is consistent.

\begin{claimno} $\mathcal L_0=\mathcal L(N_0, \sigma_0)$ is consistent. \end{claimno}
\begin{proof}[Pf] Of course, it is not the case that $\sigma_0$ is $\overline \kappa(0)$-cofinal - all we know is that it is $\overline \nu$-cofinal. However, we know how to find an elementary embedding that is $\overline \kappa(0)$ cofinal: by taking a suitable transitive liftup.

Let $\langle N_1, \sigma_1 \rangle$ be the transitive liftup of $\langle \N, \sigma \rest H^{\N}_{\overline \kappa(0)} \rangle$, which exists by Interpolation (Fact \ref{fact:Interpolation}). So we have that $\sigma_1 \rest H^\N_{\overline \kappa(0)} = \sigma \rest H^\N_{\overline \kappa(0)}$. Let $$\sigma_1(\overline \theta, \overline{\D}, \overline{\U}, \overline c) = \theta_1, \D_1, \U_1, c_1.$$ 
%Then from $\U_1$ we can define its associated discrete set of measures in $N_1$, call it $D_1$, with $\otp(D_1)=\lambda_1$. Furthermore, by elementarity we have $\kappa_1= \sigma_1(\overline \kappa') > \lambda_1$, where there are finitely many measurables of $D_1$ below $\kappa_1'$. 
Since $\sigma_1 \rest H^\N_{\overline \kappa(0)} = \sigma \rest H^\N_{\overline \kappa(0)} = \sigma_0 \rest H^\N_{\overline \kappa(0)}$, we also have a unique $k_1$ satisfying $$ \text{$k_1: N_1 \prec N_0$ where $k_1\circ \sigma_1 = \sigma_0$ and $k_1 \rest \kappa_1(0) = \text{id}$ where $\kappa_1(0)=k_1(\kappa(0))$.}$$ 

Indeed $k_1$ is continuous below $\kappa_1(0)$. We illustrate the final picture below, with $\sigma$ and all of the relevant transitive liftups.
\begin{center}
\begin{tikzpicture}
\draw (-3,0)--(-3,3);
\node [below] at (-3,0) {$\overline N$};
\node at (-3,2.95) {$\frown$};

\node [left] at (-3,0.4) {$\overline \kappa(0) \in \overline D$};
\node at (-3,0.4) {-};
\node [left] at (-3,2) {$\overline \delta$};
\node at (-3,2) {-};
\node [left] at (-3,2.5) {$\overline \nu$};
\node at (-3,2.5) {-};

\draw [->] (-2.8,0.4)--(1.3,2);

\draw (0,0)--(0,5.3);
\node [below] at (0,0) {$N_1$};
\node at (0,5.25) {$\frown$};
\node at (0,1.5) {$\bullet$};
\node [above left] at (0,1.5) {$\kappa_1(0) \in D_1$};

\draw [->] (-2.8,2)--(1.3,3.8);

\draw (1.5,0) -- (1.5,5.7);
\node [below] at (1.5,0) {$N_0$};
\node at (1.5,5.65) {$\frown$};
\node at (1.5,2) {-};
\node at (1.5,3.8) {-};
\node [above left] at (1.5,4.4) {$\nu_0$};
\node at (1.5,4.4) {$\bullet$};

\draw [->] (1.7,2)--(2.8,2);
\draw [->] (1.7,3.8)--(2.8,3.8);

\draw [->] (-2.8,2.5)--(2.8,5);

\node [right] at (3,2) {$\kappa(0) \in D$};
\node at (3,2) {-};
\node [right] at (3,3.8) {$\delta$};
\node at (3,3.8) {-};
\node [right] at (3,5) {$\nu$};
\node at (3,5) {-};

\draw (3,0)--(3,6);
\node [below] at (3,0) {$N$};
\node at (3,5.95) {$\frown$};

\draw [->, thick] (-2.7,-0.3)--(-0.3,-0.3);
\draw [->, thick] (0.3, -0.3)--(1.2,-0.3);
\draw [->, thick] (1.8, -0.3)--(2.7,-0.3);
\draw[->, thick] (-2.8,-0.4) to  [out=-30, in=-145] node[above]{$\sigma_0$} (1.3,-0.5);
\draw[->,thick] (-2.9,-0.5) to [out = -50, in =-140] node[above]{$\sigma$} (2.9, -0.5);

\node [above] at (-1.5,-0.3) {$\sigma_1$};
\node [above] at (0.75,-0.3) {$k_1$};
\node [above] at (2.25, -0.3) {$k_0$};
\end{tikzpicture}
\end{center} 
We first show that $\mathcal L_1=\mathcal L(N_1, \sigma_1)$ is consistent, by seeing that it has a model. To do this, we will find a sequence extending $\sigma_1``\S$ that is $\D_1$-generic over $N_1$. Then we will use the Transfer Lemma to see that this transfers to the consistency of $\mathcal L_0$. %To do this, we will need to look at what happens to our diagonal Prikry sequence $\overline S$ when $\sigma_1$ is applied to it. 

First, force with $\D_1 = \D_1(\mathcal U_1)$, which is a generalized diagonal Prikry forcing over $\mathcal U_1$, to obtain a diagonal Prikry sequence $S_1'$. Define, in $V[S_1']$, a new sequence $S_1$ as follows:

$$S_1(\kappa) = \begin{cases} S_1'(\kappa) &\text{ if } \kappa \in D_1 \setminus \sigma_1``\overline D \\
					\sigma_1(\overline S(\overline \kappa)) &\text{ if } \kappa = \sigma_1(\overline \kappa) \in \sigma_1``\overline D. \end{cases}$$

\begin{claimno} \label{Claim:S_1isPrikryoverN_1} The sequence $S_1$ is a $\D_1$-generic sequence over $N_1$. \end{claimno}
\begin{proof}[Pf.]
We will show that $S_1$ satisfies the generalized diagonal Prikry genericity criterion (Fact \ref{fact:diagprikrymathias}) over $N_1$. To do this, let $\mathcal X = \seq{ X_\kappa \in U_1(\kappa) }{ \kappa \in D_1 }$, with $\mathcal X \in N_1$, be a sequence of measure-one sets in the sequence of measures $\U_1$.

Note first that as $S_1'$ is a generic sequence, it already satisfies the generalized diagonal Prikry genericity criterion, namely:
$$\set{ \kappa \in D_1}{ S_1'(\kappa) \notin X_\kappa } \text{ is finite.}$$
Recall that $\S = \seq{ \S(\overline \kappa) }{ \overline \kappa \in \overline D }$ is a $\overline{\D}$-generic sequence as well.
%$$\{ \kappa \in D \;|\; S(\kappa) \notin X_\kappa\} \text{ is finite.}$$
%Let $\mathcal X = \langle X_\kappa \in U_1(\kappa) \;|\; \kappa \in \sigma_1``\overline D \rangle$, with $\mathcal X \in N_1$, be a sequence of measure one sets in the sequence of measures $\U_1$ with only coordinates coming from $\sigma_1``\overline D$.
We need to see that in addition,
$$\set{ \overline \kappa \in \overline D}{\sigma_1(\S(\overline \kappa)) \notin X_{\sigma_1(\overline \kappa)} }  \text{ is finite,}$$
since then 
$$\set{ \kappa \in D_1}{ S_1(\kappa) \notin X_\kappa } = \set{ \kappa \in D_1 \setminus \sigma_1``\overline D}{ S_1'(\kappa) \notin X_\kappa } \cup \set{ \kappa = \sigma_1(\overline \kappa) \in \sigma_1``\overline D}{\sigma_1(\S(\overline \kappa)) \notin X_\kappa }$$
is finite as well, completing the proof as desired.

By the $\overline{\kappa}(0)$-cofinality of $\sigma_1$, there is some $w \in \N$ such that $\mathcal X \in \sigma_1(w)$, where $|w| < \overline{\kappa}(0)$ in $\N$. Thus in $N_1$, we have that $|\sigma_1(w)| < \kappa_1(0)$. 
We may assume that $w$ consists of functions $f \in \prod_{\overline \kappa \in \overline D} \overline U(\overline \kappa)$.
So for each $\kappa \in \sigma_1``\overline D$, we have that $X_\kappa \in \sigma_1(w)_\kappa = \set{\sigma_1(f)(\overline \kappa) }{ f \in \prod_{\overline \kappa \in \overline D} \overline U(\overline \kappa) \ \land \ f \in w }$ and also $|\sigma_1(w)_\kappa|<\kappa_1(0).$ So all $\kappa \in \sigma_1``\overline D$ of course satisfy $\kappa \geq \kappa_1(0)$ and thus by the $\kappa$-completeness of $U_1(\kappa)$, we have that $W_\kappa := \cap \, \sigma_1(w)_\kappa \in  U_1(\kappa).$
So we have established that $\mathcal W$, the sequence of $W_\kappa$ for $\kappa \geq \kappa_1(0)$, is also a sequence of measure-one sets in $N_1$. Note in addition that for $\kappa \in \sigma_1``\overline D$, we have that $W_\kappa \subseteq X_\kappa$. 

By elementarity, for each $\overline \kappa \in \overline D$, we have $\overline W_{\overline \kappa} = \cap \set{f(\overline \kappa) }{ f \in \prod_{\overline \kappa \in \overline D} \overline U(\overline \kappa) \ \land \ f \in w }$ is a measure-one set in $\overline U(\overline \kappa)$ and we also have that $\sigma_1(\overline W_{\overline \kappa}) = W_{\sigma_1(\overline \kappa)}$. Moreover, 
$$\set{\overline \kappa \in \overline D}{\overline S(\overline \kappa) \notin \overline W_{\overline \kappa}} \text{ is finite}$$ by the generalized diagonal Prikry genericity criterion for $\overline{\D}$, which must be satisfied by $\overline S$.
Thus by elementarity,
$$\set{ \overline \kappa \in \overline D }{ \sigma_1(\S(\overline \kappa)) \notin W_{\sigma_1(\overline \kappa)} } \supseteq \set{ \overline \kappa \in \overline D }{ \sigma_1(\S(\overline \kappa)) \notin X_{\sigma_1(\overline \kappa)}} \text{ is finite,}$$
as is desired, completing the proof of our claim.
\end{proof}

%%%%%%%%%%%Liftups:
%elements of $N$ are of the form $\sigma(f)(\beta)$ for some $f: \gamma \to \overline N$ where $\gamma < \alpha$ and $\beta < \sigma(\gamma)$.





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%In particular, we will show that $\sigma_1``\overline S$ extends to a $\D_1$-generic sequence over $N_1$. 
%
%To do this, we will use the fact that $\sigma_1 ``\overline \lambda \in N_1$. This is the case because $\overline \lambda < \overline \kappa'$ in $\N$, so $\overline \lambda \in H^{\N}_{\overline \kappa'}$. Since $\sigma``\overline \lambda$ is a countable sequence of ordinals less than $\delta$, $\sigma``\overline \lambda \in H_\theta$ so $\sigma``\overline \lambda \in N$. But then $k_1^{-1}(k_0^{-1}(\sigma``\overline \lambda)) \in N_1$. Furthermore, this means that $\sigma_1``\overline D = D_1 \cap \sigma_1``\overline \lambda \in N_1$.
%
%By elementarity, $\D_1=\D(\U_1)^{N_1}$. With that in mind we may split up $\D_1$ into the coordinates in $\sigma_1``{\overline D}$ and everything else. We will write $\D_1^+$ to denote the set of restricted conditions in $\D_1$, pulling coordinates only from $\sigma_1``\overline D$. 
%
%The conditions of $\D_1$, recall, are sequences of ordinals and measure one sets coming from the $\lambda_1 = \sigma_1(\overline \lambda)$-many measurable cardinals and their associated measures. 
%
%More specifically, $\D_1^-$ is itself a generalized diagonal Prikry forcing, restricting the sequence of measures $\U_1$ to coordinates in $\sigma_1``\overline \lambda$ below the condition $( 0, \mathcal A )$ where $\mathcal A = \langle A_\alpha \;|\; \alpha < \lambda \rangle$ and for all $\alpha \in \sigma_1``\overline \lambda$, $$A_\alpha = \kappa(\alpha) \setminus \left( \text{sup}_{\beta < \alpha} \kappa(\beta) \right).$$ 
%
%In particular, define $$\D_1^+ = {\D(\U_1 \rest \sigma_1``\overline D)}^{N_1}.$$Then let $\D_1^-$ denote the rest of the forcing in $N_1$. In other words: $$\D_1^-={\D(\U_1 \rest (D_1 \setminus \sigma_1``\overline D))}^{N_1}.$$
%
%So we have $$\D_1 = \D_1^+ \times \D_1^-.$$
%
%In order to see that $\sigma_1``\overline S$ can be extended to a $\D_1$-generic sequence, we show that $\sigma_1``\overline S \subseteq \D_1^+$ is generic over $N_1$ in the following claim.
%
%\begin{claim} $\sigma_1``\overline S$ is a $\D_1^+$-generic sequence over $N_1$. \end{claim}
%\begin{proof}[Pf.] Recall that $\overline S = \langle \overline S(\overline \kappa) \;|\; \overline \kappa \in \overline D \rangle$, so $\sigma_1``\overline S = \langle \sigma_1(\overline S(\overline \kappa)) \;|\; \overline \kappa \in \overline D \rangle$.
%We show that $\sigma_1``\overline S$ satisfies the generalized diagonal Prikry genericity criterion (Fact \ref{fact:diagprikrymathias}) over $N_1$.
%%$$\{ \kappa \in D \;|\; S(\kappa) \notin X_\kappa\} \text{ is finite.}$$
%
%Let $\mathcal X = \langle X_\kappa \in U_1(\kappa) \;|\; \kappa \in \sigma_1``\overline D \rangle$, with $\mathcal X \in N_1$, be a sequence of measure one sets in the sequence of measures $\U_1$ with only coordinates coming from $\sigma_1``\overline D$.
%We need to see that 
%$$\set{ \overline \kappa \in \overline D}{\sigma_1(S(\overline \kappa)) \notin X_{\sigma_1(\overline \kappa)} }  \text{ is finite.}$$
%By the $\overline{\kappa}'$-cofinality of $\sigma_1$, there is some $w \in \overline N$ such that $\mathcal X \in \sigma_1(w)$, where $|w| < \overline{\kappa}'$ in $\overline N$. Thus in $N_1$, $|\sigma_1(w)| < \kappa_1'$. So for each $\kappa \in \sigma_1``\overline D$, we have that $$X_\kappa \in (\cup \sigma_1(w)) \cap U_1(\kappa)$$ and also $$|(\cup \sigma_1(w)) \cap U_1(\kappa)|<\kappa_1'.$$ So for all but finitely many $\kappa \in \sigma_1``\overline D$, namely for $\kappa \geq \kappa_1'$, by the $\kappa$-completeness of $U_1(\kappa)$, we have that $$\cap ((\cup \sigma_1(w)) \cap U_1(\kappa))=Y_\kappa \in U_1(\kappa).$$
%
%So we have established that $\mathcal Y$, the sequence of $Y_\kappa$ for $\kappa>\kappa_1'$, is also a sequence of measure-one sets in $N_1$. Note in addition that for $\kappa \in \sigma_1``\overline D$, $\kappa> \kappa_1'$, we have that $Y_\kappa \subseteq X_\kappa$. 
%
%By elementarity, for each $\overline \kappa \in \overline D$, where $\overline \kappa > \overline \kappa'$, we have $\overline Y_{\overline \kappa} =\cap((\cup w) \cap \overline U(\overline \kappa))$ is a measure-one set in $\overline U(\overline \kappa)$ and we also have that $\sigma_1(\overline Y_\kappa) = Y_{\sigma_1(\overline \kappa)}$. 
%$$\set{\overline \kappa \in \overline D}{\overline S(\overline \kappa) \notin \overline Y_{\overline \kappa}} \text{ is finite}$$ by the generalized diagonal Prikry genericity criterion for $\overline{\D}$, which must be satisfied by $\overline S$, and since there are only finitely many measurables in $\overline D$ less than $\overline \kappa'$ in $\N$.
%Thus by elementarity,
%$$\set{ \overline \kappa \in \overline D }{ \sigma_1(\overline S(\overline \kappa)) \notin Y_{\sigma_1(\overline \kappa)} } \supseteq \set{ \overline \kappa \in \overline D }{ \sigma_1(\overline S(\overline \kappa) \notin X_{\sigma_1(\overline \kappa)}} \text{ is finite.}$$
%\end{proof}
%
%So we have that $\sigma_1``\overline S$ is generic for $\D_1^+$. Now force over $N_1[\sigma_1``\overline S]$ with $\D_1^-$, obtaining $N_1[\sigma``\overline S][g]$, where $g$ is generic for $\D_1^-$ over $N_1[\sigma_1``\overline S]$. Letting $G_1=\sigma_1``\overline S \times g$, and letting $S_1$ be its associated diagonal Prikry sequence, we certainly have that $\sigma_1``\overline S \subseteq S_1$. 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Moreover we have now shown that $\mathcal L(N_1, \sigma_1) = \mathcal L_1$ is consistent by Barwise Correctness (Fact \ref{fact:correctness}), since we have just shown that $\langle H_{\delta}; \, \sigma_1, S_1 \rangle$ is a model of $\mathcal L_1$.

Let's check that we may now apply the Transfer Lemma (Fact \ref{fact:Transfer}) to the embedding $k_1:N_1 \prec N_0$. By Lemma \ref{lemma:liftupfull} we have that $N_1$ is almost full. We also have that $\mathcal L_1 = \mathcal L(L_{\delta_{N_1}}(N_1))$ is 
	$$\text{$\Sigma_1(\langle N_1; \, \overline \theta, \overline{\D}, \overline{\U}, \overline c, \theta_1, \D_1, \U_1, c_1 \rangle)$}$$ while $\mathcal L_0=\mathcal L(L_{\delta_{N_0}}(N_0))$ is 
	$$\text{$\Sigma_1(\langle N_0;\,k_1(\overline \theta, \overline{\D}, \overline{\U}, \overline c, \theta_1, \D_1, \U_1, c_1)\rangle)$.}$$ 
Furthermore $k_1$ is cofinal, since for each element $x \in N_0$, as $\sigma_0$ is cofinal, there is $u \in \N$ such that $x \in \sigma_0(u)$. Thus $\sigma_1(u) \in N_1$, and moreover $x \in k_1(\sigma_1(u))=\sigma_0(u)$. 

Therefore, we have that since $\mathcal L_1$ is consistent, $\mathcal L_0$ is consistent as desired. This completes the proof of \textit{Claim} 2. \end{proof}

From the consistency of $\mathcal L_0$, we would now like to use Barwise Completeness (Fact \ref{fact:completeness}) to obtain a model of $\mathcal L_0$. To do this, we need the admissible structure the theory is defined over to be countable. So let's work in $V[F]$, a generic extension that collapses $L_{\delta_{N_0}}(N_0)$ to be countable. Then by Barwise Completeness, $\mathcal L_0$ has a solid model 
	$$\mathfrak A = \langle \mathfrak A; \mathring{S}^{\mathfrak A}, \mathring{\sigma}^{\mathfrak A} \rangle$$ such that $$\Ord \cap \wfc(\mathfrak A) = \Ord \cap L_{\delta_{N_0}}(N_0).$$ 
Thus we have that $\mathring \sigma^{\mathfrak A}: \overline{\underline N}^{\mathfrak A} \prec \underline{N_0}^{\mathfrak A}$. By the \textsf{Basic Axioms} we have that $\overline{\underline N}^{\mathfrak A}=\N$ and $N_0=\underline{N_0}^{\mathfrak A}$. Thus we may say that  $\mathring \sigma^{\mathfrak A}: \N \prec N_0$. 

Let $S = \mathring{S}^{\mathfrak A}$ and $\overset{*} {\sigma}=k_0 \circ \mathring{\sigma}^{\mathfrak A}$. 

Then $S$ is a $\D_0$-generic sequence over $N_0$, and as $k_0:N_0 \cong C$ we also have that $k_0``S$ is $C$-generic for $\D$. We need to see that $S$ is $\D$-generic over $V$. To do this, let $\mathcal X = \seq{ X_\kappa \in U_1(\kappa) }{ \kappa \in D }$ be a sequence of measure-one sets in the sequence of measures $\U$. We will verify the generalized diagonal Prikry genericity criterion. To do this, let $E \subseteq \D$ be dense and have size $\delta$ with $E \in C$. Since $\delta \subseteq C$, we have that $E \subseteq C$ as well. Find a condition $(s,A) \in E$ that strengthens $(\emptyset, \mathcal X)$. Thus for $\kappa \in \dom A$, we have that $A(\kappa) \subseteq X_\kappa$. Define a sequence of measure-one sets $B$ in $C$ so that 
$$B(\kappa) = \begin{cases} A(\kappa) &\text{if} \ \kappa \in \dom A \\ \kappa &\text{if} \ \kappa \in \dom s. \end{cases}$$
So we have that $B$ is a sequence of measure-one sets in $C$. So $\set{ \kappa \in D }{S(\kappa) \notin B(\kappa) }$ is finite. Thus $\set{\kappa \in D}{ S(\kappa) \notin X_\kappa}$ is finite.


This will be the $\D$-generic sequence we need to satisfy our main claim. We will see in the following claim that $\overset{*} \sigma$ has all of the desired properties of our main claim, but it fails to be in $V[S]$, which is what we need. However, based on the following claim, $\overset{*}{\sigma}$ will at least enable us to see that our $\in$-theory $\mathcal T$ from long ago, defined to assist us in proving the main claim, is consistent over a suitable admissible structure.
\begin{claimno} The map $\overset{*}{\sigma}$ satisfies:
\begin{enumerate}
	\item \label{item:elemembed} $\overset{*} {\sigma}: \N \prec N$
	\item \label{item:rangematches} $\overset{*} {\sigma}(\overline \theta, \overline{\D}, \overline{\U}, \overline c)=\theta, \D, \U, c$
	\item \label{item:skolemC} $\sk{N}{\delta}{\overset{*}{\sigma}} = C$	
	\item \label{item:lifts} $\overset{*} {\sigma} `` \S \subseteq S$
\end{enumerate}
\end{claimno}
\begin{proof}[Pf.]
For (\ref{item:elemembed}), we have already seen above that $\mathring \sigma^{\mathfrak A}: \N \prec N_0$. Since $k_0:N_0 \prec N$, the desired result follows.

For (\ref{item:rangematches}), $\overset{*} {\sigma}(\overline \theta, \overline{\D}, \overline{\U}, \overline c)= k_0(\theta_0, \D_0, \U_0, c_0) =\theta, \D, \U, c$.

We know (\ref{item:skolemC}) holds since $N_0 = \sk{N_0}{\delta}{\mathring \sigma^{\mathfrak A}}$. To see this, clearly we have that $\sk{N_0}{\delta}{\mathring \sigma^{\mathfrak A}} \subseteq N_0$, since $\delta \in N_0$ as $N_0 \cong C$, and certainly $\ran(\mathring \sigma^{\mathfrak A})) \subseteq N_0$ as well. Then because $\mathring \sigma^{\mathfrak A}$ is $\overline \kappa'$-cofinal, by Lemma \ref{lemma:liftupchar}, we have, since $\mathring \sigma^{\mathfrak A}(\overline \kappa') < \delta$, that:
$$N_0 = \set{\mathring \sigma^{\mathfrak A}(f)(\beta)}{ f: \gamma \longrightarrow N_0, \ \gamma < \overline \kappa(0) \text{ and } \beta < \mathring \sigma^{\mathfrak A}(\gamma) } \subseteq \sk{N}{\delta}{\mathring \sigma^{\mathfrak A}}.$$
Thus $C = k_0``N_0=\sk{N_0}{\delta}{k_0 \circ \mathring \sigma^{\mathfrak A}}$ as desired. 

To see (\ref{item:lifts}), note that $\overset{*} {\sigma} \rest \overline \kappa(0) = \mathring{\sigma}^{\mathfrak A} \rest \overline \kappa(0)$ since $k_0 \rest \nu_0 = \id$.

This completes the proof of Claim 3.
\end{proof}

We are almost done, but like we stated above, $\mathring{\sigma}^{\mathfrak A}$ is in $V[F]$, the generic extension needed to obtain a countable admissible structure to apply Barwise Completeness to. But $V[F]$ is not in $V[S]$, and so $\overset{*} {\sigma}$ is not necessarily in $V[S]$. We will use Barwise Completeness one last time, to finally find an embedding $\sigma'$ with which to satisfy the main claim along with the $S$ we found above.

Let $\lambda$ be regular in $V[S]$ with $N \in H_\lambda^{V[S]}$. Then 
	$$M = \langle H^{V[S]}_\lambda;\ N, \sigma, S;\ \theta, \delta, \D, \U, c \rangle \text{ is admissible.}$$

In order to satisfy our main claim, we need a model of $\mathcal T(M)$ in $V[S]$. By \textit{Claim} 3, we have that $\langle M , \overset{*} {\sigma}\rangle$ is a model of $\mathcal T(M)$, but in $V[F]$, which is not $V[S]$. Still this means that by Barwise Correctness, $\mathcal T(M)$ is consistent.
 
Consider the Mostowski collapse of $M$; let 
	$$\pi: \tilde M \prec M \text{ where $\tilde M$ is countable and transitive.}$$
Note that $\tilde M \in H_{\omega_1}^{V[S]}=H_{\omega_1}^V$ since it is countable and diagonal Prikry forcing doesn't add bounded subsets to any $\kappa \in D$.\footnote{As Fuchs \cite{Fuchs:2005kx} points out, this result is a modification to the proof that generalized diagonal Prikry forcing preserves cardinalities.} We also have that $\overline{\underline N}^{\tilde{\mathfrak A}} = \N$, since $M$ sees that $\N$ is countable so $\tilde{M}$ sees that $\pi^{-1}(\N)$ is, and it follows that $\pi^{-1}(\N)=\N$.

Plus, $\mathcal T(\tilde M)$ is consistent, since otherwise its inconsistency could be pushed up via $\pi$ to one in $\mathcal T(M)$, contradicting the model witnessing its consistency that we found in $V[F]$. 

So by Barwise Completeness, $\mathcal T(\tilde M)$ has a solid model $$\tilde{\mathfrak A} = \langle \tilde{\mathfrak A}; \dot{\sigma}^{\tilde{\mathfrak A}} \rangle$$ such that $$\text{Ord} \cap \text{wfc}(\tilde{\mathfrak A}) = \Ord \cap \tilde M.$$ 

Letting $\sigma'=\pi \circ \dot{\sigma}^{\tilde{\mathfrak A}}$, the main claim is now satisfied with $\sigma'$ and our $\lambda$-diagonal Prikry sequence $S$. 

Let us verify each of the properties of $\sigma'$ required by the main claim. The verification of these properties shall use the agreement between $\tilde{\mathfrak A}$ and $\tilde M$ on the special constants of $\tilde M$ and on the ordinals. The fact that $\pi$ does not affect $\N$ will be greatly taken advantage of.

First we show (1) of the main claim. Let's say that $\varphi[\sigma'(\overline a)]$ holds in $N$. So $\varphi[\pi(\dot \sigma^{\tilde{\mathfrak A}}(\overline a))]^N$ holds in $M$. Thus $\varphi[\dot \sigma^{\tilde{\mathfrak A}}(\overline a)]^{\pi^{-1}(N)}$ holds in $\tilde M$, and thus also in $\tilde{\mathfrak A}$. Indeed we know that $\underline{\N}^{\tilde{\mathfrak A}} = \N$, since $\tilde{\mathfrak A}$ agrees with $\tilde M$ about countable ordinals, which we may use to code $\N$. This means that $\varphi[\overline a]$ holds in $\N$, as desired.

To see (2), we have $\sigma'(\overline \theta, \overline{\D}, \overline{\U}, \overline c)= \pi(\underline{\theta}^{\tilde{\mathfrak A}}, \underline{\D}^{\tilde{\mathfrak A}}, \underline{\U}^{\tilde{\mathfrak A}}, \underline{c}^{\tilde{\mathfrak A}})=\theta, \D, \U, c$.

For item (3), let $\tilde N = \underline N^{\tilde{\mathfrak A}}$, $\tilde \sigma = \underline \sigma^{\tilde{\mathfrak A}}$ and $\tilde \delta = \underline{\delta}^{\tilde{\mathfrak A}}$. So $\pi(\tilde \delta)= \delta$ and $\pi(\tilde \sigma)=\sigma$. Because of the way the $\in$-theory $\mathcal T$ was defined, we already have: 
\begin{equation}\label{eqn:SkDotSigma=SkTildeSigma} \sk{\tilde N}{\tilde \delta}{\dot \sigma^{\tilde{\mathfrak A}}} = \sk{\tilde N}{\tilde \delta}{\tilde \sigma}. \end{equation}

To see $\sk{N}{\delta}{\sigma'} \subseteq \Sk{N}{\delta}{X}$, suppose $x \in \sk{N}{\delta}{\sigma'}$. Then we have that $N$ sees that there is some formula $\varphi$, $\overline z \in \N$, and $\xi < \delta$ where $x$ is unique such that $\varphi(x, \pi(\dot \sigma^{\tilde{\mathfrak A}}(\overline z)), \xi)$. In particular, $x$ is in the range of $\pi$. Thus $\tilde x = \pi^{-1}(x) \in \tilde N$ and $\tilde \xi < \tilde \delta$ such that $\varphi(\tilde x, \dot \sigma^{\tilde{\mathfrak A}}(\overline z), \tilde \xi)$ holds. Thus by (\ref{eqn:SkDotSigma=SkTildeSigma}), we have that $\tilde x$ is unique such that 
$\varphi(\tilde x, \tilde \sigma(\overline y), \tilde \zeta)$ for some $\overline y \in \N$ and $\tilde \zeta < \tilde \delta$. Thus pushing back up through $\pi$, letting $\zeta = \pi(\tilde \zeta)$, we have that $x = \pi(\tilde x)$ is unique such that $\varphi(x, \sigma(\overline y), \zeta)$ holds, so $x \in \Sk{N}{\delta}{X}$.

To see that $\Sk{N}{\delta}{X} \subseteq \sk{N}{\delta}{\sigma'}$ works similarly. Let $x \in \Sk{N}{\delta}{X}$. Then there is $\overline z \in \N$ and $\xi < \delta$ such that $\varphi(x, \sigma(\overline z), \xi)$ holds. So in particular, $x$ is in the domain of $\pi$. So we may find $\tilde \xi < \tilde \delta$ such that $\tilde x = \pi^{-1}(x)$ is unique such that $\varphi(\tilde x, \tilde \sigma(\overline z), \tilde \xi)$. So by (\ref{eqn:SkDotSigma=SkTildeSigma}), we have that there is $\overline y \in \N$ and $\tilde \zeta < \tilde \delta$ such that $\tilde x$ is unique satisfying $\varphi(\tilde x, \dot{\sigma}^{\mathfrak A}(\overline y), \tilde \zeta)$. Finally, by pushing back up through $\pi$, letting $\pi(\tilde \zeta) = \zeta$, we have that $x = \pi(\tilde x)$ is unique such that $\varphi(x, \sigma'(\overline y), \zeta)$, so $x \in \sk{N}{\delta}{\sigma'}$ as desired.

%\begin{eqnarray*}
%	x \in \sk{N}{\delta}{\sigma'} 
%	&\iff& N \models \left( x = \text{that } y \text{ such that } \varphi(y, \pi(\dot \sigma^{\tilde{\mathfrak A}}(\overline z)), \xi) \right) \text{ where } \overline z \in \overline N, \xi<\delta \\
%	&\iff& \tilde N \models \left( \pi^{-1}(x) = \text{that } y \text{ such that } \varphi(y, \dot \sigma^{\tilde{\mathfrak A}}(\overline z), \tilde \xi) \right) \text{ where } \overline z \in \overline N, \tilde \xi< \tilde \delta \\
%	&\iff& \tilde N \models \left( \pi^{-1}(x) = \text{that } y \text{ such that } \varphi(y, \tilde \sigma(\overline z), \tilde \xi) \right) \text{ where } \overline z \in \overline N, \tilde \xi<\tilde \delta\\
%	&\iff& N \models \left( x = \text{that } y \text{ such that } \varphi(y, \sigma(\overline z), \xi) \right) \text{ where } \overline z \in \overline N, \xi<\delta\\
%	&\iff& x \in \Sk{N}{\delta}{X}.
%\end{eqnarray*}

To see item (4), note that $\overline{\underline S}^{\tilde{\mathfrak A}} = \overline S$ since $\overline S \subseteq \overline N$. So we have already by the definition of $\mathcal T$  that $\dot{\sigma}^{\tilde{\mathfrak A}}``\overline S \subseteq \underline S^{\tilde{\mathfrak A}}$. Thus $\pi \circ \dot{\sigma}^{\tilde{\mathfrak A}}``\overline S \subseteq \pi `` \underline S^{\tilde{\mathfrak A}} \subseteq S$ as desired. %Thus $\sigma'``\overline S = \langle \sigma'(\overline \xi_i) \;|\; i<\overline \lambda \rangle = \langle \pi (\dot{\sigma}^{\tilde{\mathfrak A}}(\overline \xi_i)) \;|\; i<\overline \lambda \rangle$. 

This completes the proof of the main claim.
\end{proof}
We have satisfied the main claim, so we are done, we have shown that $\D$ is subcomplete.
\end{proof}

Some slight modifications to the above proof give the following two corollaries.

The first point is that the above proof also shows that generalized diagonal Prikry forcing that adds a countable sequence to each measurable cardinal is subcomplete. Before stating the corolloary let's define the forcing. Again let $D$ be an infinite discrete set of measurable cardinals. Let $\U = \seq{ U(\kappa) }{ \kappa \in D }$ be a list of measures associated to $D$. 
Let $\D^*(\U) = \D^*$ be defined the same as $\D(\U)$ except the stem of a condition, $s$, in $\D^*(\U)$ is a function with domain in $[D]^{<\omega}$ taking each measurable cardinal $\kappa \in \dom(s)$ to finitely many ordinals $s(\kappa) \subseteq \kappa$. The upper part and extension relation is defined in the same way; the only slight modification is that again we have $(s, A) \leq (t, B)$ so long as points in $s$ not in $t$ come from $B$, which in the case means that for $\kappa \in \dom(s)$ we have that each element of $s(\kappa)$ not in $t(\kappa)$ is in $B(\kappa)$. We may again form a $\D^*$-generic sequence $S = S_G$ for a generic $G \subseteq \D^*$, and we may write $S = \seq{ S(\kappa) }{ \kappa \in D }$ where $S(\kappa)$ is a countable sequence of ordinals less than $\kappa$. The genericity criterion for generic diagonal Prikry sequences is as that for $\D$, which is given in  \cite[Theorem 1]{Fuchs:2005kx}, as stated in Fact \ref{fact:diagprikrymathias}, with the modification that $S$ is $\D^*$ generic if and only if for all $\mathcal X$, the set $\set{ \alpha }{ \exists \kappa \in D \ \alpha \in S(\kappa) \setminus X_\kappa }$ is finite.

\begin{corollary} 
Let $D$ be an infinite discrete set of measurable cardinals. Let $\U = \seq{ U(\kappa) }{ \kappa \in D }$ be a list of measures associated to $D$. Then $\D^*(\U)$ is subcomplete.
\end{corollary}
\begin{proof}[Proof Sketch.]
The modifications are mostly notational, and the main one that needs to be made is to adjust the proof of Claim \ref{Claim:S_1isPrikryoverN_1}. Here we have $\D^*_1$, the generalized diagonal Prikry forcing as computed in $N_1$, as well as $\overline{\D}$ of $\N$, and $S_1$, which we would like to show is a $\D_1^*$-generic sequence over $N_1$ in this case. $S_1$ is defined as $\sigma_1 ``\overline S$, using a diagonal Prikry sequence $S_1'$ to fill in the missing coordinates, where $S_1'$ is obtained by forcing with $\D_1$ over $V$.

We will show that $S_1$ satisfies the generalized diagonal Prikry genericity criterion over $N_1$ and follow the above proof. To do this, let $\mathcal X = \seq{ X_\kappa \in U_1(\kappa) }{ \kappa \in D_1 }$, with $\mathcal X \in N_1$, be a sequence of measure-one sets in the sequence of measures $\U_1$.

Note first that $S_1'$ is a generic sequence, it already satisfies the generalized diagonal Prikry genericity criterion, namely:
%%%%%$$\set{ \kappa \in D_1}{ S_1'(\kappa) \notin X_\kappa } \text{ is finite.}$$
$\set{ \alpha }{ \exists \kappa \in D_1 \ \alpha \in S_1'(\kappa) \setminus X_\kappa }$ is finite.
Recall that $\S = \seq{ \S(\overline \kappa) }{ \overline \kappa \in \overline D }$ is a $\overline{\D}$-generic sequence over $\N$ as well.
We need to see that in addition, $\set{ \alpha }{ \exists \overline \kappa \in \overline D \ \alpha \in \sigma_1(\S(\overline \kappa)) \setminus X_{\sigma_1(\overline \kappa)} }$ is finite.

By the $\overline{\kappa}(0)$-cofinality of $\sigma_1$, there is some $w \in \N$ such that $\mathcal X \in \sigma_1(w)$, where $|w| < \overline{\kappa}(0)$ in $\N$. Thus in $N_1$, $|\sigma_1(w)| < \kappa_1(0)$. 
For each $\kappa \in \sigma_1``\overline D$, we have that $X_\kappa \in \sigma_1(w)_\kappa = \set{\sigma_1(f)(\overline \kappa) }{ f \in \prod_{\overline \kappa \in \overline D} \overline U(\overline \kappa) \ \land \ f \in w }$ and also $|\sigma_1(w)_\kappa|<\kappa_1(0).$ All $\kappa \in \sigma_1``\overline D$ of course satisfy $\kappa \geq \kappa_1(0)$ so by the $\kappa$-completeness of $U_1(\kappa)$, we have that $W_\kappa := \cap \, \sigma_1(w)_\kappa \in U_1(\kappa)$ since $X_\kappa \in \sigma_1(w)_\kappa$.
So we have established that $\mathcal W$, the sequence of $W_\kappa$ for $\kappa \geq \kappa_1(0)$, is also a sequence of measure-one sets in $N_1$. Note in addition that for $\kappa \in \sigma_1``\overline D$, we have that $W_\kappa \subseteq X_\kappa$. 

By elementarity, for each $\overline \kappa \in \overline D$, we have $\overline W_{\overline \kappa} = \cap \set{f(\overline \kappa) }{ f \in \prod_{\overline \kappa \in \overline D} \overline U(\overline \kappa) \ \land \ f \in w }$ is a measure-one set in $\overline U(\overline \kappa)$ and we also have that $\sigma_1(\overline W_{\overline \kappa}) = W_{\sigma_1(\overline \kappa)}$. Moreover, 
$$\set{ \alpha }{ \exists \overline \kappa \in \D \ \alpha \in \overline S(\overline \kappa) \setminus \overline W_{\overline \kappa} } \text{ is finite}$$ by the generalized diagonal Prikry genericity criterion for $\overline{\D}$, which must be satisfied by $\overline S$.
Thus by elementarity,
$$\set{ \alpha }{ \exists \overline \kappa \in \D \ \sigma_1(\S(\overline \kappa)) \setminus W_{\sigma_1(\overline \kappa)} } \supseteq \set{ \alpha }{ \exists \overline \kappa \in \D \ \sigma_1(\S(\overline \kappa)) \setminus X_{\sigma_1(\overline \kappa)}} \text{ is finite,}$$
as is desired, completing the proof of the claim. 
%Any other modifications are similarly notational, as verifying the genericity criterion is basically the same for $\D^*$.
\end{proof}

One might consider a forcing like $\D$ and $\D^*$ that adds one point below each measurable cardinal sometimes, and other times adds a cofinal $\omega$-sequence below the measurable cardinal. This forcing is clearly subcomplete as well.
%
%Below we refer to the concept of subcompleteness above $\mu$.
%Insert definition of that here

\begin{corollary} Let $D$ be an infinite discrete set of measurable cardinals. Let $\U = \seq{ U(\kappa) }{ \kappa \in D }$ be a list of measures associated to $D$. 

Furthermore, let $\mu < \lambda$ be a regular cardinal, where $\lambda = \sup_{n<\omega} \kappa_n$, the first limit point of $D$.
Then $\D=\D(\U)$ is subcomplete above $\mu$. \end{corollary}

\begin{proof}[Proof Sketch] The idea is to follow the same exact proof as in the above theorem, except we achieve the following diagram: 

\begin{center}
\begin{tikzpicture}
\draw (-3,-1)--(-3,3);
\node [below] at (-3,-1) {$\N$};
\node at (-3,2.95) {$\frown$};

\node [left] at (-3,-0.4) {$\overline \mu$};
\node at (-3,-0.4) {-};
\node [left] at (-3,0) {$\overline \lambda$};
\node at (-3,0) {-};
\node [left] at (-3,0.4) {$\overline \kappa' \in \overline D$};
\node at (-3,0.4) {-};
\node [left] at (-3,2) {$\overline \delta$};
\node at (-3,2) {-};
\node [left] at (-3,2.5) {$\overline \nu$};
\node at (-3,2.5) {-};

\draw [->] (-2.8,0.4)--(1.3,2);

\draw (0,-1)--(0,5.3);
\node [below] at (0,-1) {$N_1$};
\node at (0,5.25) {$\frown$};
\node at (0,1.5) {$\bullet$};
\node [above left] at (0,1.5) {$\kappa_1' \in D_1$};

\draw [->] (-2.8,2)--(1.3,3.8);

\draw (1.5,-1) -- (1.5,5.7);
\node [below] at (1.5,-1) {$N_0$};
\node at (1.5,5.65) {$\frown$};
\node at (1.5,2) {-};
\node at (1.5,3.8) {-};
\node [above left] at (1.5,4.4) {$\nu_0$};
\node at (1.5,4.4) {$\bullet$};

\draw [->] (1.7,2)--(2.8,2);
\draw [->] (1.7,3.8)--(2.8,3.8);

\draw [->] (-2.8,2.5)--(2.8,5);

\node [right] at (3,.9) {$\mu$};
\node at (3,.9) {-};
\node [right] at (3,1.4) {$\lambda$};
\node at (3,1.4) {-};
\node [right] at (3,2) {$\kappa' \in D$};
\node at (3,2) {-};
\node [right] at (3,3.8) {$\delta$};
\node at (3,3.8) {-};
\node [right] at (3,5) {$\nu$};
\node at (3,5) {-};

\draw (3,-1)--(3,6);
\node [below] at (3,-1) {$N$};
\node at (3,5.95) {$\frown$};

\draw [->, thick] (-2.7,-1.3)--(-0.3,-1.3);
\draw [->, thick] (0.3, -1.3)--(1.2,-1.3);
\draw [->, thick] (1.8, -1.3)--(2.7,-1.3);
\draw[->, thick] (-2.8,-1.4) to  [out=-30, in=-145] node[above]{$\sigma_0$} (1.3,-1.5);
\draw[->,thick] (-2.9,-1.5) to [out = -50, in =-140] node[above]{$\sigma$} (2.9, -1.5);

\node [above] at (-1.5,-1.3) {$\sigma_1$};
\node [above] at (0.75,-1.3) {$k_1$};
\node [above] at (2.25, -1.3) {$k_0$};
\end{tikzpicture}
\end{center} 

Here we replace $\kappa(0)$ with some $\kappa' \in D$ such that $\lambda < \kappa' $, where there are finitely many measurables of $D$ below $\kappa'$. So in particular, we let $\langle N_1, \sigma_1 \rangle$ be the liftup of $\langle \N, \sigma \rest H_{\overline{\kappa'}}^\N\rangle$ in Claim \ref{claim:N0isliftupofN}. In order to show the that we have a generic sequence over $\D_1$ as in Claim \ref{Claim:S_1isPrikryoverN_1}, we follow the same argument as follows:

Let $\mathcal X = \seq{ X_\kappa \in U_1(\kappa) }{ \kappa \in \sigma_1``\overline D }$, with $\mathcal X \in N_1$, be a sequence of measure one sets in the sequence of measures $\U_1$ with only coordinates coming from $\sigma_1``\overline D$.
We need to see that 
$$\set{ \overline \kappa \in \overline D}{\sigma_1(\S(\overline \kappa)) \notin X_{\sigma_1(\overline \kappa)} }  \text{ is finite.}$$
By the $\overline{\kappa}'$-cofinality of $\sigma_1$, there is some $w \in \N$ such that $\mathcal X \in \sigma_1(w)$, where $|w| < \overline{\kappa}'$ in $\N$. Thus in $N_1$, $|\sigma_1(w)| < \kappa_1'$. For each $\kappa \in \sigma_1``\overline D$, we have that $X_\kappa \in \sigma_1(w)_\kappa = \set{\sigma_1(f)(\overline \kappa) }{ f \in \prod_{\overline \kappa \in \overline D} \overline U(\overline \kappa) \ \land \ f \in w }$ and also $$|\sigma_1(w)|<\kappa_1'.$$ So for all but finitely many $\kappa \in \sigma_1``\overline D$, namely for $\kappa \geq \kappa_1'$, by the $\kappa$-completeness of $U_1(\kappa)$, we have that $$\cap \, \sigma_1(w)=W_\kappa \in U_1(\kappa).$$

So we have established that $\mathcal W$, the sequence of $W_\kappa$ for $\kappa>\kappa_1'$, is also a sequence of measure-one sets in $N_1$. Note in addition that for $\kappa \in \sigma_1``\overline D$, $\kappa> \kappa_1'$, we have that $W_\kappa \subseteq X_\kappa$. 

By elementarity, for each $\overline \kappa \in \overline D$, where $\overline \kappa > \overline \kappa'$, we have $$\overline W_{\overline \kappa} =\cap \set{f(\overline \kappa) }{ f \in \textstyle\prod_{\overline \kappa \in \overline D} \overline U(\overline \kappa) \ \land \ f \in w }$$ is a measure-one set in $\overline U(\overline \kappa)$ and we also have that $\sigma_1(\overline W_{\overline \kappa}) = W_{\sigma_1(\overline \kappa)}$. Moreover, 
	$$\set{\overline \kappa \in \overline D}{\overline S(\overline \kappa) \notin \overline W_{\overline \kappa}} \text{ is finite}$$ by the generalized diagonal Prikry genericity criterion for $\overline{\D}$, which must be satisfied by $\overline S$, and since there are only finitely many measurables in $\overline D$ less than $\overline \kappa'$ in $\N$.
Thus by elementarity,
	$$\set{ \overline \kappa \in \overline D }{ \sigma_1(\overline S(\overline \kappa)) \notin W_{\sigma_1(\overline \kappa)} } \supseteq \set{ \overline \kappa \in \overline D }{ \sigma_1(\overline S(\overline \kappa) \notin X_{\sigma_1(\overline \kappa)}} \text{ is finite.}$$

Additionally the $\in$-theories $\mathcal L$ and $\mathcal T$ would have to be defined so as to include as an axiom that $\mathring \sigma \rest \overline{\underline{\mu}} = \underline{\sigma} \rest \overline{\underline \mu}$ and $\dot \sigma \rest \overline{\underline{\mu}} = \underline{\sigma} \rest \overline{\underline \mu}$ respectively. 
We would then need to show that $\overset{*}\sigma \rest \overline{\mu} = \sigma \rest \overline{\mu}$, but this would follow since $k_0$ is the identity on $\nu_0$. 
Furthermore, it would need to be shown that $\sigma' \rest \overline{\mu} = \sigma \rest \overline{\mu}$, but this would follow from the requirement that $\dot \sigma^{\tilde{\mathfrak A}} \rest \overline{\mu} = \underline{\sigma}^{\tilde{\mathfrak A}} \rest \overline{\mu}$, and since ordinals are computed properly by $\tilde{\mathfrak A}$. \end{proof}


\bibliographystyle{abbrv}
\bibliography{../ApplicationStuff/CV-RS-Pubs/BIB}
\end{document} 